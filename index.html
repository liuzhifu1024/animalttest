<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>åŠ¨ç‰©å¡‘æµ‹è¯• - æ¢ç´¢ä½ çš„åŠ¨ç‰©åŸå‹</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¾</text></svg>">
    <style>
        /* ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ï¼Œå¢åŠ iOSå…¼å®¹æ€§ä»£ç  */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@500;700&display=swap');

        :root {
            --bg-color: #faf9f6;
            --primary-text: #3d3d3d;
            --secondary-text: #6b6b6b;
            --accent-color: #a78bfa;
            --accent-light: #c4b5fd;
            --card-bg: #ffffff;
            --card-bg-light: #fefefe;
            --border-color: #e8e4e0;
            --hover-bg: #f5f3ff;
            --shadow: 0 4px 20px rgba(167, 139, 250, 0.1);
            --shadow-glow: 0 0 20px rgba(167, 139, 250, 0.12);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤iOSç‚¹å‡»é«˜äº® */
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-text);
            min-height: 100vh;
            padding: 20px;
            padding-bottom: constant(safe-area-inset-bottom); /* iOSå®‰å…¨åŒºåŸŸé€‚é… */
            padding-bottom: env(safe-area-inset-bottom);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(107, 70, 193, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 70%, rgba(107, 70, 193, 0.03) 0%, transparent 30%),
                url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"%3E%3Cg fill="%23e2e8f0" fill-opacity="0.5"%3E%3Ccircle cx="50" cy="50" r="1.5"/%3E%3Ccircle cx="10" cy="10" r="1"/%3E%3Ccircle cx="90" cy="90" r="1"/%3E%3Ccircle cx="10" cy="90" r="1"/%3E%3Ccircle cx="90" cy="10" r="1"/%3E%3Ccircle cx="30" cy="70" r="0.5"/%3E%3Ccircle cx="70" cy="30" r="0.5"/%3E%3Ccircle cx="20" cy="50" r="0.75"/%3E%3Ccircle cx="80" cy="50" r="0.75"/%3E%3C/g%3E%3C/svg%3E');
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            transition: background-color 1s ease;
            -webkit-font-smoothing: antialiased; /* iOSå­—ä½“å¹³æ»‘ */
        }

        #start-screen h1,
        #start-screen h2,
        #start-screen .start-description {
            text-align: center;
        }

        #start-screen p {
            text-align: center;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
        }

        #quiz-container {
            width: 100%;
            max-width: 700px;
            background-color: var(--card-bg);
            border-radius: 24px;
            box-shadow: var(--shadow), var(--shadow-glow);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            transform: perspective(1000px) rotateX(0deg);
            -webkit-transform: perspective(1000px) rotateX(0deg); /* Safariå…¼å®¹ */
            max-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        #quiz-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color), transparent);
            opacity: 0.8;
        }

        .screen {
            padding: 40px;
            animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1); /* Safariå…¼å®¹ */
            min-height: 450px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch; /* iOSå¹³æ»‘æ»šåŠ¨ */
        }

        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(20px);
                -webkit-transform: translateY(20px);
                filter: blur(5px);
                -webkit-filter: blur(5px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
                -webkit-transform: translateY(0);
                filter: blur(0);
                -webkit-filter: blur(0);
            }
        }

        @keyframes fadeOut {
            from { 
                opacity: 1; 
                transform: translateY(0);
                -webkit-transform: translateY(0);
            }
            to { 
                opacity: 0; 
                transform: translateY(-20px);
                -webkit-transform: translateY(-20px);
                filter: blur(5px);
                -webkit-filter: blur(5px);
            }
        }

        .fade-out {
            animation: fadeOut 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            -webkit-animation: fadeOut 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards; /* Safariå…¼å®¹ */
        }

        h1, h2, h3 {
            color: var(--primary-text);
            margin-bottom: 16px;
            position: relative;
        }

        h1 { 
            font-family: 'Noto Serif SC', serif;
            font-size: 2.2em; 
            letter-spacing: 3px; 
            text-align: center;
            background: linear-gradient(90deg, var(--accent-color), var(--primary-text));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
            animation: textGlow 3s ease-in-out infinite alternate;
            -webkit-animation: textGlow 3s ease-in-out infinite alternate; /* Safariå…¼å®¹ */
        }

        @keyframes textGlow {
            from { text-shadow: 0 0 10px rgba(107, 70, 193, 0.1); }
            to { text-shadow: 0 0 20px rgba(107, 70, 193, 0.2); }
        }

        h2 { 
            font-size: 1.6em; 
            color: var(--accent-color); 
            margin-top: 0;
            text-align: center;
            font-weight: 500;
        }

        h3.question-title { 
            text-align: left; 
            font-size: 1.3em; 
            margin-bottom: 30px; 
            line-height: 1.8;
            padding-left: 4px;
            border-left: 3px solid var(--accent-color);
        }

        p {
            color: var(--secondary-text);
            line-height: 1.8;
            margin-bottom: 30px;
            font-size: 1.05em;
        }

        .start-button, .restart-button, .browse-button, .back-button {
            display: block;
            width: 220px;
            margin: 30px auto 0;
            padding: 16px 20px;
            background: linear-gradient(45deg, var(--accent-color), var(--accent-light));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease; /* Safariå…¼å®¹ */
            box-shadow: 0 4px 15px rgba(107, 70, 193, 0.2);
            position: relative;
            overflow: hidden;
            z-index: 1;
            -webkit-appearance: none; /* ç§»é™¤iOSé»˜è®¤æŒ‰é’®æ ·å¼ */
        }

        .start-button:active, .restart-button:active, .browse-button:active {
            transform: scale(0.98);
            -webkit-transform: scale(0.98);
        }

        .back-button {
            width: auto;
            padding: 10px 20px;
            margin: 0 0 20px 0;
            background: transparent;
            color: var(--accent-color);
            border: 1px solid var(--accent-color);
        }

        .back-button:hover {
            background-color: rgba(107, 70, 193, 0.05);
        }

        .start-button::after, .restart-button::after, .browse-button::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            transform: rotate(30deg);
            -webkit-transform: rotate(30deg); /* Safariå…¼å®¹ */
            transition: all 0.6s ease;
            -webkit-transition: all 0.6s ease; /* Safariå…¼å®¹ */
            z-index: -1;
        }

        .start-button:hover, .restart-button:hover, .browse-button:hover {
            transform: translateY(-3px);
            -webkit-transform: translateY(-3px); /* Safariå…¼å®¹ */
            box-shadow: 0 8px 25px rgba(107, 70, 193, 0.3);
        }

        .start-button:hover::after, .restart-button:hover::after, .browse-button:hover::after {
            left: 120%;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .option-list {
            list-style: none;
            padding: 0;
            margin: 0 0 20px 0;
            flex-grow: 1;
            touch-action: pan-y; /* å…è®¸å‚ç›´æ»šåŠ¨ */
        }

        .option-item {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            margin-bottom: 16px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Safariå…¼å®¹ */
            display: flex;
            align-items: flex-start;
            position: relative;
            overflow: hidden;
            will-change: transform, background-color;
            -webkit-user-select: none; /* ç¦æ­¢iOSé€‰ä¸­æ–‡å­— */
            user-select: none;
            touch-action: manipulation; /* ä¼˜åŒ–è§¦æ‘¸å“åº”ï¼Œå…è®¸æ»šåŠ¨ */
        }

        .option-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background-color: rgba(107, 70, 193, 0.05);
            transition: width 0.4s ease;
            -webkit-transition: width 0.4s ease; /* Safariå…¼å®¹ */
            z-index: 0;
        }

        .option-item:hover {
            background-color: var(--hover-bg);
            border-color: var(--accent-color);
            transform: translateX(6px);
            -webkit-transform: translateX(6px); /* Safariå…¼å®¹ */
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .option-item:hover::before {
            width: 100%;
        }

        .option-item.selected {
            background-color: rgba(107, 70, 193, 0.08);
            border-color: var(--accent-light);
            transform: translateX(3px);
            -webkit-transform: translateX(3px); /* Safariå…¼å®¹ */
        }

        .option-prefix {
            font-weight: 700;
            color: var(--accent-color);
            margin-right: 15px;
            font-size: 1.2em;
            min-width: 24px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .option-text {
            color: var(--primary-text);
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }
        
        #progress-bar-container {
            width: 100%;
            background-color: rgba(226, 232, 240, 0.5);
            height: 8px;
            position: relative;
            overflow: hidden;
            border-radius: 4px;
            margin-bottom: 30px;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-light));
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); /* Safariå…¼å®¹ */
            position: relative;
        }

        #progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 40px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: progressShine 2s infinite;
            -webkit-animation: progressShine 2s infinite; /* Safariå…¼å®¹ */
        }

        @keyframes progressShine {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(700px); }
        }
        
        @-webkit-keyframes progressShine { /* Safariå…¼å®¹ */
            0% { -webkit-transform: translateX(-100px); }
            100% { -webkit-transform: translateX(700px); }
        }
        
        .interlude-screen {
            display: none;
        }

        #result-screen {
            text-align: center;
            padding: 50px 40px;
        }
        
        #result-screen h2 {
            font-family: 'Noto Serif SC', serif;
            font-size: 2em;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }
        
        #result-screen h3 {
            font-size: 2.2em;
            color: var(--accent-color);
            margin-bottom: 35px;
            text-align: center;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(167, 139, 250, 0.25);
            animation: pulse 3s infinite;
            -webkit-animation: pulse 3s infinite; /* Safariå…¼å®¹ */
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @-webkit-keyframes pulse { /* Safariå…¼å®¹ */
            0% { -webkit-transform: scale(1); }
            50% { -webkit-transform: scale(1.05); }
            100% { -webkit-transform: scale(1); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }

        .animal-icon-float {
            display: inline-block;
            animation: float 3s ease-in-out infinite;
            transition: transform 0.3s ease;
        }

        .animal-icon-float:hover {
            transform: scale(1.15) translateY(-5px);
        }

        @keyframes fadeInScale {
            0% { 
                opacity: 0; 
                transform: scale(0.5);
            }
            100% { 
                opacity: 1; 
                transform: scale(1);
            }
        }

        /* æ ¸å¿ƒç‰¹è´¨å¡ç‰‡æ ·å¼ */
        .trait-card {
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.12), rgba(196, 181, 253, 0.12));
            border: 1.5px solid rgba(167, 139, 250, 0.25);
            border-radius: 24px;
            padding: 14px 28px;
            font-size: 0.95em;
            color: var(--accent-color);
            font-weight: 500;
            transition: all 0.3s ease;
            animation: fadeInScale 0.5s ease-out;
            box-shadow: 0 2px 8px rgba(167, 139, 250, 0.08);
        }

        .trait-card:nth-child(1) { animation-delay: 0.1s; }
        .trait-card:nth-child(2) { animation-delay: 0.2s; }
        .trait-card:nth-child(3) { animation-delay: 0.3s; }

        .trait-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 16px rgba(167, 139, 250, 0.15);
            background: linear-gradient(135deg, rgba(167, 139, 250, 0.18), rgba(196, 181, 253, 0.18));
            border-color: rgba(167, 139, 250, 0.35);
        }
        
        #result-screen p {
            text-align: left;
            max-width: 90%;
            margin: 0 auto 40px;
            line-height: 1.9;
            font-size: 1.1em;
            padding: 25px;
            background-color: rgba(247, 250, 252, 0.8);
            border-radius: 16px;
            border: 1px solid rgba(226, 232, 240, 0.8);
            transition: all 0.5s ease;
            -webkit-transition: all 0.5s ease; /* Safariå…¼å®¹ */
        }

        #result-screen p:hover {
            border-color: rgba(107, 70, 193, 0.3);
            box-shadow: 0 0 20px rgba(107, 70, 193, 0.08);
        }

        .hidden {
            display: none;
        }
        
        .fun-question {
            color: #553c9a;
            position: relative;
            padding-left: 30px;
        }

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
            100% { transform: translateX(0); }
        }
        
        @-webkit-keyframes float { /* Safariå…¼å®¹ */
            0% { -webkit-transform: translateY(0); }
            50% { -webkit-transform: translateY(-5px); }
            100% { -webkit-transform: translateX(0); }
        }

        .screen-footer {
            text-align: center;
            font-size: 0.9em;
            color: var(--secondary-text);
            margin-top: 40px;
            opacity: 0.7;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid var(--accent-color);
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
            -webkit-animation: rotation 1s linear infinite; /* Safariå…¼å®¹ */
            margin: 20px auto;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @-webkit-keyframes rotation { /* Safariå…¼å®¹ */
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }

        /* åŠ¨ç‰©å›¾é‰´æ ·å¼ */
        #animal-guide {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 15px;
            -webkit-overflow-scrolling: touch; /* iOSå¹³æ»‘æ»šåŠ¨ */
        }

        .animal-card {
            background-color: rgba(247, 250, 252, 0.8);
            border-radius: 16px;
            border: 1px solid rgba(226, 232, 240, 0.8);
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease; /* Safariå…¼å®¹ */
        }

        .animal-card:hover {
            transform: translateY(-5px);
            -webkit-transform: translateY(-5px); /* Safariå…¼å®¹ */
            box-shadow: 0 10px 20px rgba(107, 70, 193, 0.1);
        }

        .animal-card h3 {
            color: var(--accent-color);
            margin-bottom: 10px;
        }

        .animal-card p {
            margin-bottom: 0;
            font-size: 1em;
        }

        /* æ–°å¢åŠ¨ç‰©å¡ç‰‡æ‚¬åœæ•ˆæœ */
        .animal-card:hover h3 {
            color: var(--accent-light);
            transform: translateX(5px);
            -webkit-transform: translateX(5px); /* Safariå…¼å®¹ */
            transition: all 0.3s ease;
            -webkit-transition: all 0.3s ease; /* Safariå…¼å®¹ */
        }

        /* æ–°å¢èƒŒæ™¯åŠ¨æ€æ•ˆæœ */
        @keyframes bgFloat {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @-webkit-keyframes bgFloat { /* Safariå…¼å®¹ */
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body {
            background-size: 200% 200%;
            animation: bgFloat 30s ease infinite;
            -webkit-animation: bgFloat 30s ease infinite; /* Safariå…¼å®¹ */
        }

        /* æ–°å¢é€‰ä¸­é€‰é¡¹çš„åŠ¨ç”»æ•ˆæœ */
        .option-item.selected::after {
            content: 'âœ“';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            -webkit-transform: translateY(-50%); /* Safariå…¼å®¹ */
            color: var(--accent-color);
            font-size: 1.5em;
            font-weight: bold;
            animation: checkmark 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-animation: checkmark 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* Safariå…¼å®¹ */
        }

        @keyframes checkmark {
            0% { transform: translateY(-50%) scale(0); opacity: 0; }
            70% { transform: translateY(-50%) scale(1.2); opacity: 1; }
            100% { transform: translateY(-50%) scale(1); opacity: 1; }
        }
        
        @-webkit-keyframes checkmark { /* Safariå…¼å®¹ */
            0% { -webkit-transform: translateY(-50%) scale(0); opacity: 0; }
            70% { -webkit-transform: translateY(-50%) scale(1.2); opacity: 1; }
            100% { -webkit-transform: translateY(-50%) scale(1); opacity: 1; }
        }

        /* å¼¹çª—æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
            -webkit-animation: fadeIn 0.3s ease;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.3s ease;
            -webkit-animation: slideUp 0.3s ease;
            position: relative;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                -webkit-transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                -webkit-transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5em;
            color: var(--secondary-text);
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background-color: var(--hover-bg);
            color: var(--accent-color);
        }

        .modal-content h3 {
            margin-bottom: 15px;
            color: var(--accent-color);
        }

        .modal-content p {
            margin-bottom: 20px;
            line-height: 1.8;
        }

        /* æˆæƒç è¾“å…¥æ¡†æ ·å¼ */
        #auth-code-input:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);
        }

        #auth-code-input.error {
            border-color: #e53e3e;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
                min-height: 100vh;
                padding-bottom: 50px;
                padding-bottom: calc(50px + constant(safe-area-inset-bottom)); /* iOSå®‰å…¨åŒºåŸŸé€‚é… */
                padding-bottom: calc(50px + env(safe-area-inset-bottom));
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            .screen {
                padding: 25px 20px;
                min-height: auto;
                max-height: calc(100vh - 20px);
            }
            #quiz-screen {
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            h1 { font-size: 1.8em; }
            h2 { font-size: 1.4em; }
            h3.question-title { 
                font-size: 1.15em; 
                padding-left: 3px;
            }
            .option-item {
                padding: 16px 20px;
            }
            .interlude-screen {
                padding: 40px 20px;
            }
            #result-screen {
                padding: 30px 20px;
            }
            #result-screen h3 {
                font-size: 1.8em;
            }
            .button-group {
                flex-direction: column;
                align-items: center;
            }
            .modal-content {
                width: 85%;
                padding: 25px 20px;
            }
            #auth-screen div[style*="display: flex"] {
                flex-direction: column;
            }
            #auth-code-input {
                width: 100%;
                margin-bottom: 10px;
            }
            #confirm-auth-btn {
                width: 100%;
            }
        }

    </style>
</head>
<body>

    <div id="quiz-container">
        <!-- Start Screen -->
        <div id="start-screen" class="screen">
            <!-- é¡¶éƒ¨å±…ä¸­åŒºåŸŸ -->
            <div style="text-align: center; margin-bottom: 40px;">
                <div style="font-size: 4em; margin-bottom: 15px; line-height: 1;">ğŸ¾</div>
                <p style="font-size: 0.9em; color: var(--secondary-text); font-weight: 300; margin-bottom: 15px;">åŸºäºå¿ƒç†å­¦ç ”ç©¶çš„ä¸“ä¸šæµ‹è¯„å·¥å…·</p>
                <h1 style="font-size: 2.5em; margin-bottom: 20px;">åŠ¨ç‰©å¡‘æµ‹è¯•</h1>
                <p style="font-size: 1.05em; color: var(--secondary-text); line-height: 1.8; max-width: 90%; margin: 0 auto;">ä¸“ä¸šçš„æ€§æ ¼è¯„ä¼°å·¥å…·ï¼ŒåŸºäºå¤šä¸ªç»è¿‡éªŒè¯çš„å¿ƒç†æµ‹é‡é‡è¡¨ï¼Œé€šè¿‡ 60 é“ç²¾å¿ƒè®¾è®¡çš„é—®é¢˜ï¼Œå¸®åŠ©æ‚¨ç§‘å­¦åœ°äº†è§£è‡ªå·±çš„åŠ¨ç‰©æ€§æ ¼åŸå‹ï¼Œæ¢ç´¢éšè—åœ¨å†…å¿ƒæ·±å¤„çš„æœ¬è´¨ç‰¹å¾ã€‚</p>
            </div>
            
            <!-- ä¸­é—´åŒºåŸŸ -->
            <div style="text-align: center; margin-bottom: 50px;">
                <div style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
                    <span class="animal-icon-float" style="font-size: 2.5em; opacity: 0.85; animation-delay: 0s;">ğŸ±</span>
                    <span class="animal-icon-float" style="font-size: 2.5em; opacity: 0.85; animation-delay: 0.2s;">ğŸº</span>
                    <span class="animal-icon-float" style="font-size: 2.5em; opacity: 0.85; animation-delay: 0.4s;">ğŸ¦Š</span>
                    <span class="animal-icon-float" style="font-size: 2.5em; opacity: 0.85; animation-delay: 0.6s;">ğŸ¦</span>
                    <span class="animal-icon-float" style="font-size: 2.5em; opacity: 0.85; animation-delay: 0.8s;">ğŸ»</span>
                </div>
                <h2 style="font-size: 1.8em; margin-bottom: 20px;">æ¢ç´¢ä½ çš„åŠ¨ç‰©å¡‘åŸå‹</h2>
                <p style="font-size: 1.05em; color: var(--secondary-text); line-height: 1.8; max-width: 90%; margin: 0 auto;">é€šè¿‡æ·±åº¦å¿ƒç†å­¦åˆ†æï¼Œå‘ç°ä½ å†…åœ¨çš„åŠ¨ç‰©ç‰¹è´¨ã€‚æ¯ç§åŠ¨ç‰©ä»£è¡¨ç€ç‹¬ç‰¹çš„æ€§æ ¼ç»´åº¦å’Œè¡Œä¸ºæ¨¡å¼ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ­å¼€ä½ çš„æ€§æ ¼å¯†ç ã€‚</p>
            </div>
            
            <!-- ä¸‹æ–¹åŒºåŸŸ -->
            <div style="text-align: center;">
                <button id="start-btn" class="start-button" style="width: 280px; font-size: 1.3em; padding: 20px 30px;">å¼€å§‹æµ‹è¯•</button>
            </div>
            <div class="screen-footer">åŠ¨ç‰©å¡‘</div>
        </div>

        <!-- Authorization Code Screen -->
        <div id="auth-screen" class="screen hidden">
            <h2>æˆæƒç éªŒè¯</h2>
            <p style="text-align: center; margin-bottom: 30px; color: var(--secondary-text);">è¯·è¾“å…¥æ‚¨çš„æˆæƒç ä»¥å¼€å§‹æµ‹è¯•</p>
            
            <div style="display: flex; gap: 10px; margin-bottom: 30px; align-items: center;">
                <input type="text" id="auth-code-input" placeholder="è¯·è¾“å…¥10ä½æˆæƒç " maxlength="10" 
                       style="flex: 1; padding: 14px 20px; border: 2px solid var(--border-color); border-radius: 12px; font-size: 1.1em; outline: none; transition: all 0.3s ease;"
                       oninput="validateAuthCodeFormat()">
                <button id="confirm-auth-btn" class="start-button" style="width: auto; padding: 14px 30px; font-size: 1em;">ç¡®è®¤</button>
            </div>
            
            <div id="auth-error-msg" style="color: #e53e3e; text-align: center; margin-bottom: 20px; min-height: 24px; font-size: 0.95em;"></div>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button id="get-auth-btn" class="browse-button" style="width: auto; padding: 12px 25px; font-size: 0.95em;">è·å–æˆæƒç </button>
                <button id="business-btn" class="browse-button" style="width: auto; padding: 12px 25px; font-size: 0.95em;">å•†åŠ¡åˆä½œ</button>
            </div>
            
            <button id="back-to-start-btn" class="back-button" style="margin-top: 30px;">â† è¿”å›é¦–é¡µ</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen hidden">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <button id="back-btn" class="back-button">â† ä¸Šä¸€é¢˜</button>
                <div style="font-size: 0.9em; color: var(--secondary-text);">ç¬¬ <span id="question-counter">1</span> é¢˜ / å…± 60 é¢˜</div>
            </div>
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <h3 id="question-title" class="question-title"></h3>
            <ul id="option-list" class="option-list"></ul>
            <div style="display: flex; justify-content: center; margin-top: 30px;">
                <button id="next-btn" class="start-button" style="width: 200px; font-size: 1.1em;">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>

        <!-- ç­”é¢˜è¿‡æ¸¡åŠ¨ç”»å±å¹• -->
        <div id="transition-screen" class="screen hidden" style="justify-content: center; align-items: center;">
            <div style="text-align: center;">
                <div id="transition-animal" style="font-size: 6em; margin-bottom: 20px; animation: bounce 1s ease-in-out infinite;"></div>
                <p style="font-size: 1.2em; color: var(--accent-color); font-weight: 500;">ç»§ç»­æ¢ç´¢ä¸­...</p>
            </div>
        </div>
        
        <!-- Interlude Screen (å·²éšè—) -->
        <div id="interlude-screen" class="screen hidden">
            <h2 id="interlude-title"></h2>
            <p id="interlude-text"></p>
            <button class="continue-button">ç»§ç»­</button>
            <div class="screen-footer">åŠ è½½ä¸­</div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="screen hidden">
            <h2 style="margin-bottom: 30px;">ä½ çš„åŠ¨ç‰©å¡‘åŸå‹æ˜¯</h2>
            
            <!-- åŠ¨ç‰©æ’ç”» -->
            <div id="result-animal-illustration" style="font-size: 8em; text-align: center; margin-bottom: 20px; animation: fadeInScale 1s ease-out;"></div>
            
            <!-- åŠ¨ç‰©åç§° -->
            <h3 id="result-animal" style="margin-bottom: 30px;"></h3>
            
            <!-- åŒ¹é…åº¦è¿›åº¦æ¡ -->
            <div style="margin-bottom: 40px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9em; color: var(--secondary-text);">
                    <span>åŒ¹é…åº¦</span>
                    <span id="match-percentage">0%</span>
                </div>
                <div style="width: 100%; height: 12px; background-color: rgba(226, 232, 240, 0.5); border-radius: 6px; overflow: hidden;">
                    <div id="match-progress-bar" style="height: 100%; background: linear-gradient(90deg, var(--accent-color), var(--accent-light)); border-radius: 6px; width: 0%; transition: width 1s ease-out;"></div>
                </div>
            </div>
            
            <!-- æ ¸å¿ƒç‰¹è´¨å¡ç‰‡ -->
            <div id="traits-container" style="display: flex; gap: 12px; justify-content: center; margin-bottom: 40px; flex-wrap: wrap;"></div>
            
            <!-- è¯¦ç»†è§£æ -->
            <p id="result-description" style="margin-bottom: 40px;"></p>
            
            <div class="button-group">
                <button id="restart-btn" class="restart-button">å†æµ‹ä¸€æ¬¡</button>
                <button id="browse-btn" class="browse-button">æµè§ˆæ‰€æœ‰åŠ¨ç‰©å¡‘</button>
            </div>
            <div class="screen-footer">åŠ¨ç‰©å¡‘è§£æ Â· å®Œæˆ</div>
        </div>

        <!-- Animal Guide Screen -->
        <div id="animal-guide-screen" class="screen hidden">
            <button id="back-to-result-btn" class="back-button">â† è¿”å›ç»“æœ</button>
            <h2>åŠ¨ç‰©å¡‘å›¾é‰´</h2>
            <p>è¿™é‡Œæ˜¯æ‰€æœ‰å¯èƒ½çš„åŠ¨ç‰©å¡‘åŸå‹åŠå…¶è§£æï¼š</p>
            <div id="animal-guide"></div>
            <div class="screen-footer">å®Œæ•´å›¾é‰´</div>
        </div>

        <!-- åŠ è½½å±å¹• -->
        <div id="loading-screen" class="screen hidden">
            <div style="text-align: center;">
                <div class="loader"></div>
                <p>æ­£åœ¨è§£æä½ çš„åŠ¨ç‰©å¡‘å½¢è±¡</p>
            </div>
        </div>
    </div>

    <!-- å¼¹çª— -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <h3 id="modal-title"></h3>
            <p id="modal-text"></p>
        </div>
    </div>

    <script>
    const quizData = [
        { question: "ä¸–ç•Œæ˜¯ä¸€ç‰‡æ¼†é»‘çš„æ£®æ—ï¼Œä½ é€‰æ‹©æˆä¸ºï¼Ÿ", options: { A: "æ£®æ—æœ¬èº«ï¼Œæ„Ÿå—æ¯ä¸€ç‰‡æ ‘å¶ã€‚", B: "åœ¨æ—é—´æ¸©æš–çš„ç¯ç«ã€‚", C: "éšè—åœ¨å¤æ ‘æ ¹ä¸‹æ·±ä¸è§åº•çš„å¤äº•ã€‚", D: "ä¸€é˜µç©¿è¿‡æ‰€æœ‰ç¼éš™çš„é£ã€‚" } },
        { question: "ä½ è·å¾—äº†ä¸€å—è®°å¿†æ©¡çš®æ“¦ï¼Œä½ ä¼šæ“¦æ‰ï¼Ÿ", options: { A: "åˆ«äººå¯¹ä½ çš„æ‰€æœ‰äºæ¬ ï¼Œè®©å¿ƒçµå½»åº•è‡ªç”±ã€‚", B: "ä½ æœ€å°´å°¬æœ€ç¾è€»çš„é‚£ä¸ªç¬é—´ã€‚", C: "ä¸€æ®µè®©ä½ å¿ƒç¢çš„æ„Ÿæƒ…ã€‚", D: "ä½ çŠ¯ä¸‹çš„ä¸€ä¸ªæ— æ³•å¼¥è¡¥çš„é”™è¯¯ã€‚" } },
        { question: "ä½ æ„å¤–è·å¾—äº†ä¸€ä¸ªâ€œç”Ÿæ´»BUGâ€çš„æ§åˆ¶å°ï¼Œä½†ä¸€å¤©åªèƒ½ä½¿ç”¨ä¸€ä¸ªæŒ‡ä»¤ï¼Œä½ ä¼šè¾“å…¥ï¼Ÿ", options: { A: "æ˜¾ç¤ºæ‰€æœ‰äº‹ç‰©çš„éšè—ä¿¡æ¯", B: "å¬å”¤ä¼šè·³èˆçš„ç¾Šé©¼å’Œæœ‹å‹", C: "ä¸€é”®ç”Ÿæˆç»å¯¹èˆ’é€‚åŒº", D: "å¼€å¯ä¸»è§’å…‰ç¯" } },
        { question: "ä½ æ›´å€¾å‘äºå“ªç§å½¢å¼çš„â€œæ°¸ç”Ÿâ€ï¼Ÿ", options: { A: "ä½ çš„æ€æƒ³ã€ä½œå“æˆ–ä¼ è¯´è¢«æ°¸è¿œæµä¼ ã€‚", B: "çµé­‚è½¬ä¸–ï¼Œä¸æ–­ä½“éªŒä¸åŒçš„äººç”Ÿã€‚", C: "æ‹¥æœ‰ä¸æœ½çš„è‚‰ä½“ï¼Œçœ‹ç€æ²§æµ·æ¡‘ç”°ã€‚", D: "åŒ–ä¸ºè‡ªç„¶çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚å±±è„‰æˆ–æ²³æµï¼Œé™è§‚ä¸‡ç‰©ã€‚" } },
        { question: "ä½ å†…å¿ƒæœ€æ·±å¤„çš„ææƒ§ï¼Œæ›´æ¥è¿‘äºï¼Ÿ", options: { A: "è¢«æ‰€æœ‰äººé—å¿˜ï¼Œä»¿ä½›ä»æœªå­˜åœ¨è¿‡ã€‚", B: "æˆä¸ºä¸€ä¸ªæ— èŠã€å¹³åº¸ã€å¯è¢«æ›¿ä»£çš„äººã€‚", C: "å¤±å»æ§åˆ¶ï¼Œè¢«åŸå§‹çš„å†²åŠ¨æˆ–æ··ä¹±æ‰€åå™¬ã€‚", D: "è¢«å›šç¦ï¼Œæ— è®ºæ˜¯ç‰©ç†ä¸Šè¿˜æ˜¯ç²¾ç¥ä¸Šã€‚" } },
        { question: "åœ¨ä½ çš„æ¢¦å¢ƒä¸­ï¼Œå“ªç§åœºæ™¯åå¤å‡ºç°ï¼Ÿ", options: { A: "åœ¨æ— è¾¹æ— é™…çš„æ°´ä¸­ï¼Œæ—¶è€Œæ¼‚æµ®ï¼Œæ—¶è€Œä¸‹æ²‰ã€‚", B: "ç«™åœ¨æ‚¬å´–è¾¹ï¼Œä¿¯ç°ç€å£®ä¸½ä½†å±é™©çš„æ™¯è‰²ã€‚", C: "åœ¨ä¸€ä¸ªé”™ç»¼å¤æ‚çš„å»ºç­‘é‡Œå¥”è·‘ï¼Œæ‰¾ä¸åˆ°å‡ºå£ã€‚", D: "å’Œä¸€ç¾¤æ¨¡ç³Šä¸æ¸…ä½†æ„Ÿè§‰ç†Ÿæ‚‰çš„äººåœ¨ä¸€èµ·ã€‚" } },
        { question: "å¦‚æœä½ çš„æƒ…ç»ªæ˜¯ä¸€ä¸ªAPPï¼Œå®ƒæœ€å¸¸ç”¨çš„åŠŸèƒ½æ˜¯ï¼Ÿ", options: { A: "â€œåå°è¿è¡Œâ€æ¨¡å¼ï¼Œè¡¨é¢é£å¹³æµªé™ï¼ŒCPUå·²ç»ç®—åˆ°å†’çƒŸã€‚", B: "â€œå¼¹å¹•åˆ†äº«â€åŠŸèƒ½ï¼ŒæŠŠæ‰€æœ‰å†…å¿ƒOSéƒ½å‘åˆ°å¥½å‹ç¾¤é‡Œã€‚", C: "â€œé£è¡Œæ¨¡å¼â€ï¼Œä¸€é”®æ–­å¼€æ‰€æœ‰è¿æ¥ï¼Œè°¢ç»æ‰“æ‰°ã€‚", D: "â€œé™éŸ³æ¨¡å¼â€ï¼Œæ‰€æœ‰é€šçŸ¥éƒ½åªæ˜¾ç¤ºè§’æ ‡ï¼Œä¸å‘å‡ºä»»ä½•å£°éŸ³ã€‚" } },
        { question: "ä½ è®¤ä¸ºâ€œå®¶â€çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ", options: { A: "ä¸€ä¸ªå¯ä»¥å¸ä¸‹æ‰€æœ‰ä¼ªè£…å’Œé˜²å¤‡çš„ç»å¯¹é¢†åŸŸã€‚", B: "ä¸€ç¾¤å¯ä»¥æ— æ¡ä»¶æ¥çº³ä½ ã€ä¸ä½ å…±äº«å–œæ‚¦çš„äººã€‚", C: "åˆ»åœ¨ä½ åŸºå› é‡Œä½†é‚£ä¸ªå›ä¸å»çš„æ•…ä¹¡ã€‚", D: "ä¸€ä¸ªç²¾ç¥åæ ‡ï¼Œæ— è®ºèº«åœ¨ä½•å¤„ï¼Œå¿ƒä¹‹æ‰€å‘ã€‚" } },
        { question: "å¦‚æœå¿…é¡»é€‰æ‹©ä¸€ç§æ„Ÿå®˜æ¥æ”¾å¤§åå€ï¼Œä½ ä¼šé€‰ï¼Ÿ", options: { A: "å¬è§‰ï¼Œè†å¬ä¸‡ç‰©çš„ä½è¯­å’Œå¼¦å¤–ä¹‹éŸ³ã€‚", B: "è§¦è§‰ï¼Œæ„Ÿå—ä¸–ç•Œçš„è´¨åœ°å’Œæ¸©åº¦ã€‚", C: "å—…è§‰ï¼Œæ•æ‰ç©ºæ°”ä¸­éšè—çš„ä¿¡æ¯å’Œè®°å¿†ã€‚", D: "è§†è§‰ï¼Œçœ‹ç©¿è¡¨è±¡ï¼Œæ´æ‚‰ä¸–ç•Œçš„ç»“æ„ã€‚" } },
        { question: "ä½ å¦‚ä½•çœ‹å¾…è‡ªå·±çš„â€œé˜´æš—é¢â€ï¼Ÿ", options: { A: "æ˜¯æˆ‘åŠ›é‡çš„æºæ³‰ï¼Œéœ€è¦è¢«ç†è§£å’ŒæŒæ§ã€‚", B: "æ˜¯éœ€è¦åŠªåŠ›å…‹æœçš„å¼±ç‚¹ã€‚", C: "åªæ˜¯æˆ‘çš„ä¸€éƒ¨åˆ†ï¼Œæ²¡å¿…è¦å¤§æƒŠå°æ€ªã€‚", D: "æˆ‘å°½é‡å¿½ç•¥å®ƒï¼Œä¸å»æƒ³å®ƒã€‚" } },
        { question: "ä½ æ¸´æœ›æ‹¥æœ‰çš„â€œçŸ¥è¯†â€æ˜¯ï¼Ÿ", options: { A: "çœ‹é€äººå¿ƒçš„èƒ½åŠ›ã€‚", B: "ä¸è‡ªç„¶ä¸‡ç‰©æ²Ÿé€šçš„è¯­è¨€ã€‚", C: "é¢„æµ‹æœªæ¥çš„æ°´æ™¶çƒã€‚", D: "è§£é”å®‡å®™ç»ˆæè§„å¾‹çš„é’¥åŒ™ã€‚" } },
        { question: "æ­»äº¡æ¥ä¸´æ—¶ï¼Œä½ å¸Œæœ›å®ƒæ˜¯ä½•ç§å½¢æ€ï¼Ÿ", options: { A: "å¦‚ç§‹å¶èˆ¬é™ç¾åœ°é£˜è½ï¼Œå›å½’å¤§åœ°ã€‚", B: "åƒçƒŸèŠ±ä¸€æ ·ï¼Œåœ¨æœ€ç»šçƒ‚çš„ç¬é—´ç‡ƒçƒ§æ®†å°½ã€‚", C: "åƒä¸€åœºè¿œèˆªï¼Œé©¶å‘æœªçŸ¥çš„æ˜Ÿè¾°å¤§æµ·ã€‚", D: "åƒä¸€åœºé…£ç¡ï¼Œåœ¨æœ€æ¸©æš–çš„æ¢¦ä¸­ä¸å†é†’æ¥ã€‚" } },
        { question: "ä½ è§‰å¾—æœ€â€œæ€§æ„Ÿâ€çš„ç‰¹è´¨æ˜¯ï¼Ÿ", options: { A: "é¥±ç»æ²§æ¡‘åä¾æ—§æ¸…æ¾ˆçš„çœ¼ç¥ã€‚", B: "æ¯«ä¸æ©é¥°çš„åŸå§‹çš„ç”Ÿå‘½åŠ›ã€‚", C: "åœ¨æ··ä¹±ä¸­ä¾æ—§ä¿æŒä»å®¹çš„ä¼˜é›…ã€‚", D: "ä¸“æ³¨åšæŸä»¶äº‹æ—¶ï¼Œé—ä¸–ç‹¬ç«‹çš„æ°”è´¨ã€‚" } },
        { question: "å¦‚æœå¯ä»¥ä¿ç•™ä¸€æ®µå£°éŸ³åœ¨è„‘ä¸­å¾ªç¯æ’­æ”¾ï¼Œä½ ä¼šé€‰ï¼Ÿ", options: { A: "æµ·æµªæ‹æ‰“ç¤çŸ³çš„å£°éŸ³ã€‚", B: "çˆ±äººåœ¨è€³è¾¹çš„ä½è¯­ã€‚", C: "é£å¹è¿‡æ ‘æ—å‘å‡ºçš„æ²™æ²™å£°ã€‚", D: "å›¾ä¹¦é¦†é‡Œå®‰é™çš„ç¿»ä¹¦å£°ã€‚" } },
        { question: "ä½ è®¤ä¸ºè‡ªå·±æ›´åƒï¼Ÿ", options: { A: "ä¸€æœ¬éœ€è¦å¯†ç æ‰èƒ½æ‰“å¼€çš„å¤ä¹¦ã€‚", B: "ä¸€å¼ é”™ç»¼å¤æ‚é€šå¾€å®è—çš„åœ°å›¾ã€‚", C: "ä¸€ä¸ªè£…æ»¡äº†æ•…äº‹å’Œç§˜å¯†çš„æ¼‚æµç“¶ã€‚", D: "ä¸€æŠŠèƒ½æ‰“å¼€æ— æ•°æŠŠé”çš„é’¥åŒ™ã€‚" } },
        { question: "ä½ æ˜¯ä¸€åº§å²›å±¿ï¼Œä½ å¸Œæœ›åˆ«äººå¦‚ä½•ç™»å²›ï¼Ÿ", options: { A: "æˆ‘ä¼šå»ºç«‹ä¸€åº§åšå›ºçš„æ¡¥ï¼Œåªè®©æˆ‘è®¤å¯çš„äººé€šè¿‡ã€‚", B: "æˆ‘çš„æµ·å²¸çº¿å¾ˆé•¿ï¼Œæ¬¢è¿ä»»ä½•äººåœé ï¼Œä½†ä¸­å¿ƒåŒºåŸŸä¸å¯¹å¤–å¼€æ”¾ã€‚", C: "æˆ‘ä¼šç”¨è¿·é›¾å°†è‡ªå·±ç¯ç»•ï¼Œåªæœ‰æœ€æ‰§ç€çš„äººæ‰èƒ½æ‰¾åˆ°èˆªçº¿ã€‚", D: "æˆ‘æ˜¯ä¸€åº§ä¼šç§»åŠ¨çš„å²›ï¼Œåªåœ¨ç‰¹å®šçš„æ—¶å€™ä¸å¤§é™†è¿æ¥ã€‚" } },
        { question: "åœ¨ä¸€æ®µå…³ç³»ä¸­ï¼Œä½ æ›´åƒä¸€ä¸ªï¼Ÿ", options: { A: "ç»™äºˆå¯¹æ–¹æ¸©æš–å’Œå…‰äº®çš„â€œæ’æ˜Ÿâ€ã€‚", B: "å®ˆæŠ¤å¯¹æ–¹æä¾›åº‡æŠ¤çš„â€œæ¸¯æ¹¾â€ã€‚", C: "å¼•é¢†å¯¹æ–¹æ¢ç´¢æœªçŸ¥ä¸–ç•Œçš„â€œå‘å¯¼â€ã€‚", D: "ä¸å¯¹æ–¹å…±èˆç›¸äº’æ˜ ç…§çš„â€œæœˆäº®â€ã€‚" } },
        { question: "ä½ çš„æœ‹å‹è¢«ä¸€åªå·¨å¤§çš„æ£‰èŠ±ç³–æ€ªå…½å›°ä½äº†ï¼Œä½ å†²è¿‡å»çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: { A: "å¤§å–Šï¼šâ€œåˆ«åŠ¨ï¼è®©æˆ‘åˆ†æä¸€ä¸‹å®ƒçš„å¼±ç‚¹ï¼â€", B: "æŠ„èµ·ä¸€ä¸ªå·¨å¤§çš„å‹ºå­ï¼šâ€œæœ‹å‹æŒºä½ï¼æˆ‘æ¥å¸®ä½ åƒå‡ºä¸€æ¡è·¯ï¼â€", C: "é™ªä»–é™é™åç€ï¼Œç„¶åæ‹¿å‡ºæ‰‹æœºè‡ªæ‹ã€‚", D: "å†·é™åœ°æŒ‡æŒ¥ï¼šâ€œä½ å·¦è¾¹ä¸‰æ­¥ï¼Œç„¶åè·³èµ·æ¥ï¼â€" } },
        { question: "ä½ æœ€ä¸èƒ½å®¹å¿çš„â€œèƒŒå›â€æ˜¯ï¼Ÿ", options: { A: "è°è¨€ä¸æ¬ºéª—ã€‚", B: "åœ¨æˆ‘æœ€éœ€è¦çš„æ—¶å€™è½¬èº«ç¦»å¼€ã€‚", C: "å°†æˆ‘çš„ç§˜å¯†å…¬ä¹‹äºä¼—ã€‚", D: "å› ä¸ºæ‡¦å¼±è€Œæ”¾å¼ƒäº†æˆ‘ä»¬çš„å…±åŒç›®æ ‡ã€‚" } },
        { question: "å½“ä½ æ·±çˆ±ä¸€ä¸ªäººæ—¶ï¼Œä½ æ›´å€¾å‘äºå¦‚ä½•è¡¨è¾¾è¿™ä»½æ„Ÿæƒ…ï¼Ÿ", options: { A: "é»˜é»˜åœ°ä¸ºå¯¹æ–¹åšå¥½è®¸å¤šäº‹ï¼Œä½†ä»ä¸ä¸»åŠ¨æèµ·ã€‚", B: "å°†å¯¹æ–¹çº³å…¥è‡ªå·±æœªæ¥çš„è§„åˆ’ï¼Œå¹¶ä¸ºå…¶æ‰«æ¸…éšœç¢ã€‚", C: "ä¸å¯¹æ–¹åˆ†äº«è‡ªå·±æœ€éšç§˜çš„ç²¾ç¥ä¸–ç•Œå’Œç‹¬ç‰¹çš„å‘ç°ã€‚", D: "åˆ›é€ åªå±äºä¸¤ä¸ªäººçš„å…±åŒç»å†å’Œå†’é™©å›å¿†ã€‚" } },
        { question: "ä½ ç†æƒ³çš„ä¼´ä¾£å…³ç³»æ˜¯ï¼Ÿ", options: { A: "ä¸¤æ£µç‹¬ç«‹çš„æ ‘ï¼Œæ ¹åœ¨åœ°ä¸‹ç´§ç´§ç›¸è¿ã€‚", B: "ä¸€å›¢ç«ç„°ï¼Œç›¸äº’ç‡ƒçƒ§ï¼Œç…§äº®å½¼æ­¤ã€‚", C: "ä¸€ä¸ªå®‰å…¨çš„æ´ç©´ï¼Œå…±åŒæŠµå¾¡å¤–ç•Œçš„é£é›¨ã€‚", D: "ä¸¤åªä¸€åŒç¿±ç¿”çš„é¹°ï¼Œå…±äº«åŒä¸€ç‰‡å¤©ç©ºã€‚" } },
        { question: "åœ¨ç¾¤ä½“ä¸­ï¼Œä½ æœ€èˆ’æœçš„ä½ç½®æ˜¯ï¼Ÿ", options: { A: "åœ¨èˆå°çš„èšå…‰ç¯ä¸‹ã€‚", B: "åœ¨äººç¾¤è¾¹ç¼˜ï¼Œåšä¸€ä¸ªå†·é™çš„è§‚å¯Ÿè€…ã€‚", C: "åœ¨äº²å¯†çš„å°åœˆå­é‡Œï¼Œè¢«æ¸©æš–å’Œä¿¡ä»»åŒ…å›´ã€‚", D: "åœ¨é˜Ÿä¼çš„æœ€å‰æ–¹ï¼Œå¸¦é¢†å¤§å®¶å‰è¿›ã€‚" } },
        { question: "ä¸€ä¸ªè·¯è¿‡çš„å°ç²¾çµå¯¹ä½ æ¯”äº†ä¸ªå¿ƒï¼Œä½ ä¼šï¼Ÿ", options: { A: "è¿…é€Ÿå›ä¸€ä¸ªæ›´é…·çš„æ‰‹åŠ¿ã€‚", B: "å¼€å¿ƒåœ°æ¯”ä¸€ä¸ªæ›´å¤§çš„å¿ƒï¼Œå¹¶é™„èµ ä¸€ä¸ªwinkã€‚", C: "è„¸ä¸€çº¢ï¼Œå®³ç¾åœ°ä½ä¸‹å¤´ï¼Œä½†å˜´è§’å¿ä¸ä½ä¸Šæ‰¬ã€‚", D: "ç¤¼è²Œæ€§åœ°ç‚¹ç‚¹å¤´ï¼Œç„¶ååœ¨å¿ƒé‡Œç»™å®ƒçš„å¯çˆ±ç¨‹åº¦æ‰“ä¸ªåˆ†ã€‚" } },
        { question: "ä½ è®¤ä¸ºæœ€æµªæ¼«çš„äº‹æ˜¯ï¼Ÿ", options: { A: "åœ¨æš´é£é›¨çš„å¤œæ™šï¼Œå…±äº«ä¸€æ¯çƒ­èŒ¶ã€‚", B: "ä¸€åœºè¯´èµ°å°±èµ°å……æ»¡æœªçŸ¥çš„å†’é™©ã€‚", C: "è¯»æ‡‚å¯¹æ–¹ä¸€ä¸ªçœ¼ç¥é‡Œæ‰€æœ‰æœªè¯´å‡ºå£çš„è¯ã€‚", D: "å…±åŒåˆ›é€ ä¸€ä¸ªåªå±äºä½ ä»¬çš„ã€ä¼Ÿå¤§çš„ä½œå“ã€‚" } },
        { question: "ä½ ä¼šä¸ºä»€ä¹ˆæ ·çš„äººâ€œæ‹¼å‘½â€ï¼Ÿ", options: { A: "ä¸ºé‚£ä¸ªç‚¹ç‡ƒæˆ‘çµé­‚ä¹‹ç«çš„äººã€‚", B: "ä¸ºæˆ‘è§†ä¸ºâ€œå®¶äººâ€çš„æ•´ä¸ªç¾¤ä½“ã€‚", C: "ä¸ºé‚£ä¸ªæ— æ¡ä»¶ä¿¡ä»»æˆ‘ã€ä¾èµ–æˆ‘çš„äººã€‚", D: "ä¸ºå€¼å¾—æˆ‘è¿½éšçš„æ‹¥æœ‰å…±åŒä¿¡å¿µçš„é¢†è¢–ã€‚" } },
        { question: "å¦‚æœçˆ±æ˜¯ä¸€ç§â€œé¦ˆèµ â€ï¼Œä½ å€¾å‘äºç»™äºˆï¼Ÿ", options: { A: "æˆ‘æœ€çè´µçš„æ”¶è—ã€‚", B: "æˆ‘å…¨éƒ¨çš„æ—¶é—´å’Œé™ªä¼´ã€‚", C: "æˆ‘ç»å¯¹çš„å¿ è¯šå’Œä¿æŠ¤ã€‚", D: "æˆ‘å¯¹ä¸–ç•Œçš„ç†è§£å’Œæ™ºæ…§ã€‚" } },
        { question: "å½“å…³ç³»ç»“æŸæ—¶ï¼Œä½ æ›´åƒæ˜¯ï¼Ÿ", options: { A: "å†°å°çš„ç«å±±ï¼Œå¤–å†·å†…çƒ­ã€‚", B: "æ”¹é“çš„æ²³æµï¼Œå¥”å‘æ–°çš„æµ·æ´‹ã€‚", C: "è¢«ç æ‰æå¹²çš„æ ‘ï¼Œéœ€è¦æ¼«é•¿çš„æ˜¥å¤©æ‰èƒ½å‘èŠ½ã€‚", D: "è¢«é£å¹æ•£çš„äº‘ï¼Œå½¢æ€æ”¹å˜ï¼Œæœ¬è´¨ä¾æ—§ã€‚" } },
        { question: "åœ¨ä¸€åœºåŒ–å¦†èˆä¼šä¸Šï¼Œä½ è§‰å¾—å“ªç§è£…æ‰®æœ€èƒ½å¸å¼•åˆ°â€œå¯¹çš„äººâ€ï¼Ÿ", options: { A: "æˆ´ç€ä¹Œé¸¦é¢å…·çš„ç¥ç§˜é­”æœ¯å¸ˆã€‚", B: "ç©¿ç€æ¯›èŒ¸èŒ¸æé¾™ç¡è¡£çš„æ´¾å¯¹æ ¸å¿ƒã€‚", C: "å‡æ‰®æˆä¸€æ£µæ ‘ï¼Œå®‰é™åœ°å¾…åœ¨è§’è½ã€‚", D: "ç©¿ç€æœªæ¥æ„Ÿåè¶³çš„é“¶è‰²ç›”ç”²çš„ç¥æ˜ã€‚" } },
        { question: "ä½ æ›´å¸Œæœ›è¢«å¦‚ä½•â€œè®°ä½â€ï¼Ÿ", options: { A: "ä¸€ä¸ªæœ‰è¶£çš„çµé­‚ï¼Œä¸€ä¸ªä¼ å¥‡çš„æ•…äº‹ã€‚", B: "ä¸€ä¸ªå¯é çš„æœ‹å‹ï¼Œä¸€ä¸ªæ¸©æš–çš„æ¸¯æ¹¾ã€‚", C: "ä¸€ä¸ªä¼˜é›…çš„è°œï¼Œä¸€æ®µç¾ä¸½çš„é£æ™¯ã€‚", D: "ä¸€ä¸ªä¼Ÿå¤§çš„é¢†è¢–ï¼Œä¸€ä¸ªæ—¶ä»£çš„å¼€åˆ›è€…ã€‚" } },
        { question: "ä½ æœ€æƒ³å¯¹è¿™ä¸ªä¸–ç•Œè¯´çš„ä¸€å¥è¯æ˜¯ï¼Ÿ", options: { A: "â€œå˜˜ï¼Œå¬ã€‚â€", B: "â€œä¸€èµ·ç©å§ï¼â€", C: "â€œåˆ«æ€•ï¼Œæœ‰æˆ‘å‘¢ã€‚â€", D: "â€œçœ‹å¥½äº†ã€‚â€" } },
        { question: "ä½ åœ¨ä¸€åœºå¿…é¡»åˆ†å‡ºèƒœè´Ÿçš„æ¸¸æˆä¸­ï¼Œä½ çš„ç­–ç•¥æ˜¯ï¼Ÿ", options: { A: "ç²¾å¿ƒå¸ƒå±€ï¼Œè¯±æ•Œæ·±å…¥ï¼Œæœ€åä¸€å‡»è‡´å‘½ã€‚", B: "ç”¨ç»å¯¹çš„åŠ›é‡æˆ–æ°”åŠ¿æ­£é¢ç¢¾å‹ã€‚", C: "æ‰¾åˆ°è§„åˆ™çš„æ¼æ´ï¼Œç”¨æ„æƒ³ä¸åˆ°çš„æ–¹å¼è·èƒœã€‚", D: "ç»“æˆè”ç›Ÿï¼Œç‰ºç‰²å±€éƒ¨ï¼Œæ¢å–æœ€ç»ˆçš„é›†ä½“èƒœåˆ©ã€‚" } },
        { question: "ä½ å¾—åˆ°äº†ä¸€ä»½è—å®å›¾ï¼Œä½†æ ‡æ³¨äº†â€œæåº¦å±é™©â€ï¼Œä½ ä¼šï¼Ÿ", options: { A: "ç‹¬è‡ªå‰å¾€ï¼Œå®è—å’Œç§˜å¯†åªå±äºæˆ‘ä¸€äººã€‚", B: "ç»„å»ºä¸€æ”¯ç²¾è‹±å›¢é˜Ÿï¼Œå…±äº«æ”¶ç›Šä¸é£é™©ã€‚", C: "æŠŠå®ƒå–ç»™æ›´æœ‰èƒ½åŠ›çš„äººï¼Œæ¢å–çœ¼å‰çš„åˆ©ç›Šã€‚", D: "å…ˆèŠ±å¤§é‡æ—¶é—´ç ”ç©¶åœ°å›¾ï¼Œåˆ†ææ‰€æœ‰é£é™©ï¼Œå†åšå†³å®šã€‚" } },
        { question: "é¢å¯¹æŒ‘è¡…ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: { A: "ä¸€ä¸ªå†·é…·çš„çœ¼ç¥ï¼Œè®©å¯¹æ–¹çŸ¥éš¾è€Œé€€ã€‚", B: "ä¸€å£°å“äº®çš„å’†å“®ï¼Œå®£ç¤ºæˆ‘çš„åº•çº¿ã€‚", C: "è½¬èº«ç¦»å¼€ï¼Œä¸ä¸å‚»ç“œè®ºé•¿çŸ­ã€‚", D: "å¾®ç¬‘ï¼Œä½†åœ¨å¿ƒé‡Œå·²ç»å°†å¯¹æ–¹ç›˜ç®—äº†ä¸€éã€‚" } },
        { question: "ä½ è®¤ä¸ºâ€œæƒåŠ›â€çš„æœ¬è´¨æ˜¯ï¼Ÿ", options: { A: "åˆ¶å®šè§„åˆ™çš„èµ„æ ¼ã€‚", B: "ä¿æŠ¤æ‰€çˆ±ä¹‹äººçš„èƒ½åŠ›ã€‚", C: "ä¸€ç§å¯ä»¥äº¤æ¢ä¸€åˆ‡çš„ç­¹ç ã€‚", D: "ä¸€ç§æ²‰é‡çš„è´£ä»»ã€‚" } },
        { question: "åœ¨â€œçœŸå¿ƒè¯å¤§å†’é™©â€æ¸¸æˆä¸­ï¼Œä½ å‘ç°äº†ä¸€ä¸ªå¿…èƒœBUGï¼Œä½ ä¼šï¼Ÿ", options: { A: "æš—ä¸­åˆ©ç”¨ï¼Œç²¾å‡†åœ°è®©æŸäººè¯´å‡ºç§˜å¯†ã€‚", B: "å¤§å£°å‘Šè¯‰æ‰€æœ‰äººï¼Œç„¶åç©ç‚¹æ›´åˆºæ¿€çš„ï¼", C: "å‡è£…ä¸çŸ¥é“ï¼Œäº«å—æå¿ƒåŠèƒ†çš„æ„Ÿè§‰ã€‚", D: "åˆ©ç”¨BUGè®©æ¸¸æˆå’Œå¹³ç»“æŸï¼Œå»çœ‹ç”µå½±ã€‚" } },
        { question: "ä½ æ›´æ“…é•¿ï¼Ÿ", options: { A: "åœ¨æ··ä¹±ä¸­åˆ›é€ ç§©åºã€‚", B: "åœ¨ç§©åºä¸­åˆ¶é€ æƒŠå–œã€‚", C: "é€‚åº”ä»»ä½•ç¯å¢ƒï¼Œåƒæ°´ä¸€æ ·æ— å½¢ã€‚", D: "å»ºç«‹ä¸€ä¸ªå…¨æ–°çš„å±äºè‡ªå·±çš„ä½“ç³»ã€‚" } },
        { question: "ä¸€ä¸ªå·¨å¤§çš„æœºé‡æ‘†åœ¨ä½ é¢å‰ï¼Œä½†éœ€è¦ä½ æ”¾å¼ƒç°åœ¨çš„å®‰ç¨³ç”Ÿæ´»ï¼Œä½ ï¼Ÿ", options: { A: "èµŒä¸€æŠŠï¼Œäººç”Ÿéœ€è¦æ¿€æƒ…ã€‚", B: "æåº¦çº ç»“ï¼Œåå¤è¡¡é‡å¾—å¤±ã€‚", C: "ç®—äº†ï¼Œå®‰ç¨³æ¯”ä»€ä¹ˆéƒ½é‡è¦ã€‚", D: "å¦‚æœè¿™ä¸ªæœºé‡ç¬¦åˆæˆ‘çš„é•¿è¿œè§„åˆ’ï¼Œå°±å»ã€‚" } },
        { question: "ä½ å¦‚ä½•åˆ©ç”¨ä½ çš„â€œä¼˜åŠ¿â€ï¼Ÿ", options: { A: "è—èµ·æ¥ï¼Œä½œä¸ºå…³é”®æ—¶åˆ»çš„åº•ç‰Œã€‚", B: "å¤§æ–¹åœ°å±•ç¤ºï¼Œå¸å¼•åŒä¼´æˆ–éœ‡æ…‘æ•Œäººã€‚", C: "åªåœ¨æˆ‘ä¿¡ä»»çš„äººé¢å‰å±•ç°ã€‚", D: "ç”¨å®ƒæ¥å¸®åŠ©é‚£äº›éœ€è¦å¸®åŠ©çš„äººã€‚" } },
        { question: "ä½ å‚åŠ äº†ä¸€åœºâ€œç”¨æ¢—å›¾battleâ€çš„æ¯”èµ›ï¼Œä½ çš„å¿…æ€æŠ€æ˜¯ï¼Ÿ", options: { A: "æå…¶å†·é—¨ä½†ç²¾å‡†åæ§½çš„å“²å­¦æ¢—å›¾ã€‚", B: "èƒ½è®©å…¨åœºçˆ†ç¬‘çš„â€œçŒ«çŒ«ç‹—ç‹—â€è¡¨æƒ…åŒ…è¿å‡»ã€‚", C: "ç»å…¸çš„ç•¥å¸¦ä¼¤æ„Ÿçš„è‡ªå˜²æ¢—å›¾ã€‚", D: "ä¿¡æ¯é‡å·¨å¤§çš„â€œå²è¯—çº§â€é•¿å›¾ã€‚" } },
        { question: "ä½ å¦‚ä½•çœ‹å¾…â€œæ·å¾„â€ï¼Ÿ", options: { A: "æœ€èªæ˜çš„é€‰æ‹©ã€‚", B: "å¾€å¾€æ˜¯é™·é˜±ã€‚", C: "å¦‚æœèƒ½èµ°ï¼Œä¸ºä»€ä¹ˆä¸èµ°ï¼Ÿ", D: "æˆ‘æ›´å–œæ¬¢è‡ªå·±èµ°å‡ºä¸€æ¡è·¯ã€‚" } },
        { question: "ä½ çš„æ­»å¯¹å¤´å˜æˆäº†ä¸€åªåªä¼šâ€œå’•â€çš„é¸½å­ï¼Œè½åœ¨äº†ä½ çš„çª—å°ï¼Œä½ ä¼šï¼Ÿ", options: { A: "æ•™å®ƒç”¨æ‘©æ–¯å¯†ç â€œå’•â€å‡ºè®¤ç½ªä¹¦ã€‚", B: "å…»å¾—è‚¥è‚¥èƒ–èƒ–ï¼Œåœ¨å®ƒé¢å‰åƒç‚¸é¸¡ã€‚", C: "ç»™å®ƒæ­çªå–‚ç±³ï¼Œç„¶åæ€è€ƒè‡ªå·±æ˜¯ä¸æ˜¯å¤ªå–„è‰¯ã€‚", D: "æŠŠå®ƒç»‘åœ¨æ— äººæœºä¸Šæ”¾é£ï¼Œé™„ä¸Šçº¸æ¡ï¼šâ€œè‡ªå·±é£å›æ¥å§ï¼Œèœé¸Ÿã€‚â€" } },
        { question: "ä½ çŠ¯é”™åï¼Œæœ€å€¾å‘äºï¼Ÿ", options: { A: "æ‚„æ‚„å¼¥è¡¥ï¼Œå½“åšä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿè¿‡ã€‚", B: "å…¬å¼€æ‰¿è®¤ï¼Œæ‰¿æ‹…åæœã€‚", C: "è‡ªè´£å¾ˆä¹…ï¼Œé™·å…¥æƒ…ç»ªä½è°·ã€‚", D: "åˆ†æé”™è¯¯åŸå› ï¼Œç¡®ä¿ä¸å†çŠ¯ã€‚" } },
        { question: "ä½ è®¤ä¸ºæœ€å¼ºå¤§çš„â€œæ­¦å™¨â€æ˜¯ï¼Ÿ", options: { A: "æ— æ³•è¢«é¢„æµ‹çš„å¤´è„‘ã€‚", B: "åšä¸å¯æ‘§çš„æ„å¿—ã€‚", C: "ä»¤äººæ— æ³•æŠ—æ‹’çš„é­…åŠ›ã€‚", D: "ç»å¯¹çš„å¿ è¯šã€‚" } },
        { question: "ä½ ä¸¢å¤±äº†ä¸€ä»¶éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä½ ä¼šï¼Ÿ", options: { A: "å‘ç–¯ä¸€æ ·åœ°å¯»æ‰¾ï¼Œä¸æƒœä¸€åˆ‡ä»£ä»·ã€‚", B: "ä¼¤å¿ƒä¸€ä¼šå„¿ï¼Œç„¶åå‘Šè¯‰è‡ªå·±è¯¥æ”¾ä¸‹äº†ã€‚", C: "ç›¸ä¿¡å®ƒæ€»æœ‰ä¸€å¤©ä¼šä»¥æŸç§å½¢å¼å›æ¥ã€‚", D: "æŠŠå®ƒå½“æˆä¸€æ¬¡æ•™è®­ï¼Œè®°ä½è¿™ç§å¤±å»çš„æ„Ÿè§‰ã€‚" } },
        { question: "ä½ æ›´æ„¿æ„æˆä¸ºï¼Ÿ", options: { A: "æ£‹æ‰‹ã€‚", B: "æ£‹å­ï¼ˆå›½ç‹æˆ–çš‡åï¼‰ã€‚", C: "æ—è§‚çš„æ™ºè€…ã€‚", D: "æ€ç¿»æ£‹ç›˜çš„äººã€‚" } },
        { question: "ä½ æœ€å‘å¾€çš„â€œç¾â€æ˜¯ï¼Ÿ", options: { A: "è¯ç”Ÿäºæ¯ç­ä¹‹ä¸­çš„æ®‹é…·çš„ç¾ã€‚", B: "è„†å¼±è€Œè½¬ç¬å³é€çš„ç¾ã€‚", C: "ç»è¿‡æ—¶é—´æ²‰æ·€åå……æ»¡æ™ºæ…§çš„ç¾ã€‚", D: "é›„ä¼Ÿã€å£®ä¸½ã€ä¸å¯å¾æœçš„ç¾ã€‚" } },
        { question: "å¦‚æœç”¨ä¸€ç§å¤©æ°”æ¥å½¢å®¹ä½ çš„å†…å¿ƒä¸–ç•Œï¼Œå®ƒä¼šæ˜¯ï¼Ÿ", options: { A: "é›·é¸£ç”µé—ªçš„æš´é£é›¨å¤œã€‚", B: "é˜³å…‰å’Œç…¦å¾®é£æ‹‚é¢çš„åˆåã€‚", C: "å®‰é™é£˜é›ªä¸‡ç±ä¿±å¯‚çš„å†¬æ—¥ã€‚", D: "å˜å¹»è«æµ‹æ—¶æœ‰å½©è™¹çš„é˜µé›¨å¤©ã€‚" } },
        { question: "ä½ é€€ä¼‘åï¼Œæ‰“ç®—åœ¨å“ªé‡Œå¼€ä¸€å®¶â€œåªæ‹›å¾…æœ‰ç¼˜äººâ€çš„å¥‡æ€ªå°åº—ï¼Ÿ", options: { A: "åœ¨å®‡å®™ç©ºé—´ç«™é‡Œï¼Œå¼€ä¸€å®¶â€œå¤±ç‰©æ‹›é¢†å¤„â€ã€‚", B: "åœ¨ç§»åŠ¨å²›å±¿ä¸Šï¼Œå¼€ä¸€å®¶â€œèƒ½é‡è¡¥ç»™ç«™â€ã€‚", C: "åœ¨å›¾ä¹¦é¦†åœ°ä¸‹å®¤ï¼Œå¼€ä¸€å®¶â€œæ‡’äººæ²™å‘åº—â€ã€‚", D: "åœ¨ç ç©†æœ—ç›å³°é¡¶ï¼Œå¼€ä¸€å®¶â€œçµé­‚ä¾¿åˆ©åº—â€ã€‚" } },
        { question: "åœ¨è‰ºæœ¯ä½œå“ä¸­ï¼Œå“ªç§é¢œè‰²æœ€èƒ½ä»£è¡¨ä½ çš„çµé­‚åº•è‰²ï¼Ÿ", options: { A: "æ·±é‚ƒçš„æ™®é²å£«è“æˆ–æš—å¤œé»‘ã€‚", B: "æ˜äº®çš„é‡‘é»„æˆ–æ©™çº¢ã€‚", C: "æ¸©æŸ”çš„è±¡ç‰™ç™½æˆ–æµ…ç²‰è‰²ã€‚", D: "é«˜è´µçš„é“¶ç°æˆ–çº¯ç™½ã€‚" } },
        { question: "ä½ è®¤ä¸ºå“ªç§å£°éŸ³æœ€æ¥è¿‘â€œç¥æ€§â€ï¼Ÿ", options: { A: "å®‡å®™æ·±å¤„çš„è„‰å†²ä¿¡å·ã€‚", B: "æ–°ç”Ÿå„¿çš„ç¬¬ä¸€å£°å•¼å“­ã€‚", C: "é²¸é±¼åœ¨æ·±æµ·ä¸­çš„æ­Œå”±ã€‚", D: "æ— å£°ï¼Œç»å¯¹çš„å¯‚é™ã€‚" } },
        { question: "å¦‚æœä½ çš„èº«ä½“å¿…é¡»ç”±ä¸€ç§éç”Ÿç‰©ææ–™æ„æˆï¼Œä½ å¸Œæœ›æ˜¯ï¼Ÿ", options: { A: "é€æ˜ä½†æ˜“ç¢çš„ç»ç’ƒã€‚", B: "ä¼šå‘å…‰çš„é’»çŸ³ã€‚", C: "Qå¼¹çš„æœå†»ã€‚", D: "æ°¸è¿œä¿æŒé”‹åˆ©çš„ç²¾å¯†åˆé‡‘ã€‚" } },
        { question: "ä½ è®¤ä¸ºä»€ä¹ˆä¸œè¥¿æ˜¯â€œæ— ä»·â€çš„ï¼Ÿ", options: { A: "è‡ªç”±ã€‚", B: "çˆ±ã€‚", C: "å®‰å…¨æ„Ÿã€‚", D: "æ—¶é—´ã€‚" } },
        { question: "ä½ æ›´æ„¿æ„ä¸å“ªç§â€œç¥â€å¯¹è¯ï¼Ÿ", options: { A: "æ™ºæ…§ä¸è¯¡è®¡ä¹‹ç¥ã€‚", B: "æˆ˜äº‰ä¸å®ˆæŠ¤ä¹‹ç¥ã€‚", C: "çˆ±ä¸ç¾ä¹‹ç¥ã€‚", D: "è‡ªç„¶ä¸ç”Ÿå‘½ä¹‹ç¥ã€‚" } },
        { question: "ä½ å‘ç°äº†ä¸€ä¸ªå¯ä»¥ç©¿æ¢­æ—¶ç©ºçš„ç½—ç›˜ï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼Œä½ å¸Œæœ›æŒ‡é’ˆæŒ‡å‘å“ªé‡Œï¼Ÿ", options: { A: "æŒ‡å‘é­”æ³•ä¸å·¨é¾™å­˜åœ¨çš„å¤±è½å¤ä»£ã€‚", B: "æŒ‡å‘ç§‘æŠ€é«˜åº¦å‘è¾¾äººäººå®‰å±…ä¹ä¸šçš„ç†æƒ³æœªæ¥ã€‚", C: "æŒ‡å‘å°šæœªè¢«æ¢ç´¢çš„å……æ»¡åŸå§‹ç”Ÿå‘½åŠ›çš„ç§˜å¢ƒã€‚", D: "æŒ‡å‘ä½ ç«¥å¹´æœ€æ— å¿§æ— è™‘çš„é‚£ä¸ªå¤å¤©ã€‚"  } },
        { question: "ä½ æ›´åƒå“ªç§æ°´ï¼Ÿ", options: { A: "èƒ½æ»´æ°´ç©¿çŸ³çš„æ‰§ç€æ°´æ»´ã€‚", B: "èƒ½å®¹çº³ç™¾å·çš„è¾½é˜”å¤§æµ·ã€‚", C: "èƒ½å€’æ˜ å¤©ç©ºçš„å¹³é™æ¹–æ³Šã€‚", D: "èƒ½å†²æ¯ä¸€åˆ‡çš„æ»”å¤©å·¨æµªã€‚" } },
        { question: "ä½ è®¤ä¸ºæœ€é…·çš„â€œæ´»æ³•â€æ˜¯ï¼Ÿ", options: { A: "æˆä¸ºä¸€ä¸ªéƒ½å¸‚ä¼ è¯´ã€‚", B: "æˆä¸ºä¸€éƒ¨è¶…é•¿å¾…æœºç•ªå‰§çš„ä¸»è§’ã€‚", C: "æˆä¸ºä¸€ä¸ªè¢«æœºå™¨äººç²¾å¿ƒç…§æ–™çš„ç›†æ ½ã€‚", D: "æˆä¸ºæ¸¸æˆé‡Œçš„æœ€ç»ˆBOSSã€‚" } },
        { question: "ä½ å¦‚ä½•çœ‹å¾…â€œå‘½è¿â€ï¼Ÿ", options: { A: "ä¸€å¼ å¯ä»¥è¢«æ”¹å†™çš„è‰ç¨¿ã€‚", B: "ä¸€æ¡è™½ç„¶æ›²æŠ˜ä½†ç»ˆç‚¹å·²å®šçš„æ²³æµã€‚", C: "ä¸€åœºéœ€è¦å…¨åŠ›ä»¥èµ´çš„èµŒå±€ã€‚", D: "æ ¹æœ¬ä¸å­˜åœ¨çš„ä¸œè¥¿ã€‚" } },
        { question: "å¦‚æœè®©ä½ åˆ›é€ ä¸€ä¸ªä¸–ç•Œï¼Œä½ æœ€å…ˆåˆ›é€ ä»€ä¹ˆï¼Ÿ", options: { A: "è§„åˆ™å’Œé€»è¾‘ã€‚", B: "å…‰å’Œç”Ÿå‘½ã€‚", C: "éŸ³ä¹å’Œè‰²å½©ã€‚", D: "ç§˜å¯†å’Œè°œé¢˜ã€‚" } },
        { question: "åœ¨ç”Ÿå‘½çš„å°½å¤´ï¼Œä½ å›æœ›ä¸€ç”Ÿï¼Œæœ€è®©ä½ æ„Ÿåˆ°è‡ªè±ªçš„æ˜¯ï¼Ÿ", options: { A: "æˆ‘ä»æœªèƒŒå›è¿‡æˆ‘è‡ªå·±ã€‚", B: "æˆ‘ç”¨ç”Ÿå‘½å®ˆæŠ¤äº†æˆ‘çˆ±çš„ä¸€åˆ‡ã€‚", C: "æˆ‘è¿‡å¾—èˆ’é€‚å®‰é€¸ï¼Œæ²¡ç•™ä¸‹ä»€ä¹ˆé—æ†¾ã€‚", D: "æˆ‘è¾¾åˆ°äº†æ— äººä¼åŠçš„é«˜åº¦ã€‚" } },
        { question: "é€‰æ‹©ä½ çš„çµé­‚å›¾è…¾ï¼š", options: { A: "èºæ—‹ã€‚", B: "å¿ƒå½¢ã€‚", C: "åœ†åœˆã€‚", D: "ä¸‰è§’ã€‚" } },
    ];

    // è®¡åˆ†è§„åˆ™ - å‡è¡¡åˆ†é…å„ç»´åº¦å¾—åˆ†æƒé‡
    const scoreMap = [
        // ç¬¬ä¸€ç« ï¼š(1-15é¢˜)
        { A: { AES: 2 }, B: { COM: 2 }, C: { SOL: 2 }, D: { AGI: 2 } },
        { A: { COM: 2 }, B: { SEC: 2 }, C: { AES: 2 }, D: { STR: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } },
        { A: { STR: 2 }, B: { AGI: 2 }, C: { DOM: 2 }, D: { SOL: 2 } },
        { A: { SOL: 2 }, B: { AGI: 2 }, C: { DOM: 2 }, D: { SEC: 2 } },
        { A: { AES: 2 }, B: { DOM: 2 }, C: { STR: 2 }, D: { COM: 2 } },
        { A: { SOL: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { AES: 2 } },
        { A: { SEC: 2 }, B: { COM: 2 }, C: { SOL: 2 }, D: { DOM: 2 } },
        { A: { COM: 2 }, B: { SEC: 2 }, C: { STR: 2 }, D: { AGI: 2 } },
        { A: { DOM: 2 }, B: { SEC: 2 }, C: { AES: 2 }, D: { SOL: 2 } },
        { A: { STR: 2 }, B: { AES: 2 }, C: { DOM: 2 }, D: { AES: 2 } },
        { A: { AES: 2 }, B: { DOM: 2 }, C: { SOL: 2 }, D: { SEC: 2 } },
        { A: { AES: 2 }, B: { DOM: 2 }, C: { AES: 2 }, D: { SOL: 2 } },
        { A: { AES: 2 }, B: { COM: 2 }, C: { STR: 2 }, D: { SEC: 2 } },
        { A: { SOL: 2 }, B: { STR: 2 }, C: { COM: 2 }, D: { AGI: 2 } },
        
        // ç¬¬äºŒç« ï¼š(16-30é¢˜)
        { A: { DOM: 2 }, B: { COM: 2 }, C: { SOL: 2 }, D: { AGI: 2 } },
        { A: { DOM: 2 }, B: { SEC: 2 }, C: { AGI: 2 }, D: { SOL: 2 } },
        { A: { STR: 2 }, B: { AGI: 2 }, C: { SOL: 2 }, D: { DOM: 2 } },
        { A: { STR: 2 }, B: { DOM: 2 }, C: { COM: 2 }, D: { SOL: 2 } },
        { A: { SOL: 2 }, B: { DOM: 2 }, C: { AES: 2 }, D: { COM: 2 } },
        { A: { SOL: 2 }, B: { DOM: 2 }, C: { SEC: 2 }, D: { COM: 2 } },
        { A: { DOM: 2 }, B: { SOL: 2 }, C: { COM: 2 }, D: { STR: 2 } },
        { A: { AGI: 2 }, B: { COM: 2 }, C: { AES: 2 }, D: { SOL: 2 } },
        { A: { SEC: 2 }, B: { AGI: 2 }, C: { SOL: 2 }, D: { DOM: 2 } },
        { A: { AES: 2 }, B: { COM: 2 }, C: { SOL: 2 }, D: { DOM: 2 } },
        { A: { AES: 2 }, B: { COM: 2 }, C: { DOM: 2 }, D: { STR: 2 } },
        { A: { DOM: 2 }, B: { AGI: 2 }, C: { SEC: 2 }, D: { COM: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } },
        { A: { SOL: 2 }, B: { COM: 2 }, C: { AES: 2 }, D: { DOM: 2 } },
        { A: { AES: 2 }, B: { COM: 2 }, C: { DOM: 2 }, D: { STR: 2 } },
        
        // ç¬¬ä¸‰ç« ï¼š (31-45é¢˜)
        { A: { STR: 2 }, B: { DOM: 2 }, C: { AGI: 2 }, D: { COM: 2 } },
        { A: { SOL: 2 }, B: { COM: 2 }, C: { AGI: 2 }, D: { STR: 2 } },
        { A: { DOM: 2 }, B: { AES: 2 }, C: { AGI: 2 }, D: { STR: 2 } },
        { A: { DOM: 2 }, B: { COM: 2 }, C: { AGI: 2 }, D: { STR: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { AGI: 2 }, D: { SEC: 2 } },
        { A: { DOM: 2 }, B: { AGI: 2 }, C: { SOL: 2 }, D: { SEC: 2 } },
        { A: { DOM: 2 }, B: { STR: 2 }, C: { SEC: 2 }, D: { AES: 2 } },
        { A: { SOL: 2 }, B: { DOM: 2 }, C: { COM: 2 }, D: { AES: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { AES: 2 }, D: { DOM: 2 } },
        { A: { STR: 2 }, B: { SEC: 2 }, C: { AGI: 2 }, D: { DOM: 2 } },
        { A: { STR: 2 }, B: { DOM: 2 }, C: { SEC: 2 }, D: { AGI: 2 } },
        { A: { SOL: 2 }, B: { DOM: 2 }, C: { COM: 2 }, D: { STR: 2 } },
        { A: { STR: 2 }, B: { DOM: 2 }, C: { COM: 2 }, D: { AES: 2 } },
        { A: { DOM: 2 }, B: { SEC: 2 }, C: { AES: 2 }, D: { SOL: 2 } },
        { A: { DOM: 2 }, B: { STR: 2 }, C: { COM: 2 }, D: { AGI: 2 } },
        
        // ç¬¬å››ç« ï¼š(46-60é¢˜)
        { A: { DOM: 2 }, B: { AES: 2 }, C: { STR: 2 }, D: { SOL: 2 } },
        { A: { DOM: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { AGI: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } },
        { A: { AES: 2 }, B: { DOM: 2 }, C: { SEC: 2 }, D: { SOL: 2 } },
        { A: { STR: 2 }, B: { AES: 2 }, C: { COM: 2 }, D: { SOL: 2 } },
        { A: { DOM: 2 }, B: { AES: 2 }, C: { COM: 2 }, D: { SEC: 2 } },
        { A: { AGI: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { STR: 2 } },
        { A: { STR: 2 }, B: { DOM: 2 }, C: { AES: 2 }, D: { COM: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } },
        { A: { AGI: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } },
        { A: { SOL: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { AES: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { AGI: 2 }, D: { SOL: 2 } },
        { A: { AGI: 2 }, B: { DOM: 2 }, C: { STR: 2 }, D: { AES: 2 } },
        { A: { STR: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { SOL: 2 } },
        { A: { AES: 2 }, B: { COM: 2 }, C: { SEC: 2 }, D: { DOM: 2 } }
    ];

    // åŠ¨ç‰©å›¾æ ‡æ˜ å°„ï¼ˆemojiï¼‰
    const animalIcons = {
        "ç‹—": "ğŸ•", "çŒ«": "ğŸ±", "ç‹¼": "ğŸº", "ç‹": "ğŸ¦Š", "ç‹®": "ğŸ¦",
        "ç†Š": "ğŸ»", "å…”": "ğŸ°", "ä»“é¼ ": "ğŸ¹", "å¤©é¹…": "ğŸ¦¢", "é¹¿": "ğŸ¦Œ",
        "é¹°": "ğŸ¦…", "ä¹Œé¸¦": "ğŸ¦â€â¬›", "æ°´è±š": "ğŸ¦«", "é²¸": "ğŸ‹", "é¹¦é¹‰": "ğŸ¦œ",
        "ç« é±¼": "ğŸ™", "é²¨é±¼": "ğŸ¦ˆ", "æµ·è±š": "ğŸ¬", "æµ£ç†Š": "ğŸ¦", "çŒ«é¼¬": "ğŸ¾"
    };

    // åŠ¨ç‰©æ ¸å¿ƒç‰¹è´¨æ˜ å°„
    const animalTraits = {
        "ç‹—": ["å¿ è¯š", "çƒ­æƒ…", "å®ˆæŠ¤"],
        "çŒ«": ["ç‹¬ç«‹", "ä¼˜é›…", "ç¥ç§˜"],
        "ç‹¼": ["é¢†å¯¼", "ç­–ç•¥", "å›¢é˜Ÿ"],
        "ç‹": ["æ™ºæ…§", "æœºæ•", "ç‹¬ç«‹"],
        "ç‹®": ["è‡ªä¿¡", "ç‹è€…", "é­…åŠ›"],
        "ç†Š": ["æ²‰ç¨³", "å®ˆæŠ¤", "å®‰å…¨"],
        "å…”": ["è­¦è§‰", "æ•æ·", "æ¸©å’Œ"],
        "ä»“é¼ ": ["ä¸“æ³¨", "å®‰é€¸", "æ”¶é›†"],
        "å¤©é¹…": ["ä¼˜é›…", "ç†æƒ³", "å¿ è¯š"],
        "é¹¿": ["æ¸©å’Œ", "æ•æ„Ÿ", "çº¯å‡€"],
        "é¹°": ["è¿œè§", "ç‹¬ç«‹", "æ ¼å±€"],
        "ä¹Œé¸¦": ["æ™ºæ…§", "å¥½å¥‡", "åˆä½œ"],
        "æ°´è±š": ["éšå’Œ", "ç¨³å®š", "ç¤¾äº¤"],
        "é²¸": ["æ·±é‚ƒ", "æ™ºæ…§", "è®°å¿†"],
        "é¹¦é¹‰": ["ç¤¾äº¤", "æ´»æ³¼", "å­¦ä¹ "],
        "ç« é±¼": ["æ™ºæ…§", "é€‚åº”", "å¤šé¢"],
        "é²¨é±¼": ["ä¸“æ³¨", "é«˜æ•ˆ", "ç›®æ ‡"],
        "æµ·è±š": ["æ™ºæ…§", "åˆä½œ", "ç©ä¹"],
        "æµ£ç†Š": ["æœºçµ", "çµæ´»", "æ¢ç´¢"],
        "çŒ«é¼¬": ["è­¦æƒ•", "å®ˆæŠ¤", "å›¢é˜Ÿ"]
    };

    // åŠ¨ç‰©åŸå‹å®šä¹‰ - å¢åŠ åŸå‹æ€»åˆ†åŸºæ•°ï¼Œä¾¿äºå½’ä¸€åŒ–
    // DOM:æ”¯é…, STR:ç­–ç•¥, COM:ç¤¾ç¾¤, SOL:ç‹¬è¡Œ, AGI:çµåŠ¨, SEC:å®‰ç¨³, AES:å®¡ç¾
    const ANIMAL_ARCHETYPE_TOTAL = 20; // å®šä¹‰ä¸€ä¸ªåŸå‹æ€»åˆ†åŸºæ•°
    const animalArchetypes = {
        "ç‹—": { vector: { DOM: 1, STR: 1, COM: 5, SOL: 0, AGI: 3, SEC: 4, AES: 1 }, desc: "ä½ æ˜¯å¿ è¯šçš„ä¼™ä¼´ä¸çƒ­æƒ…çš„å®ˆæŠ¤è€…ã€‚ä½ çš„ä¸–ç•Œå›´ç»•ç€â€œæˆ‘ä»¬â€å±•å¼€ï¼Œæ— è®ºæ˜¯å®¶äººã€æœ‹å‹è¿˜æ˜¯å›¢é˜Ÿã€‚ä½ æ“…é•¿å»ºç«‹è¿æ¥ï¼Œç»™äºˆæ¸©æš–ï¼Œå¹¶åœ¨ç¾¤ä½“ä¸­æ‰¾åˆ°è‡ªå·±çš„ä»·å€¼ã€‚ä½ çš„å¿«ä¹ç®€å•è€Œçº¯ç²¹ï¼Œæ¥æºäºé™ªä¼´ä¸è¢«éœ€è¦ã€‚" },
        "çŒ«": { vector: { DOM: 1, STR: 2, COM: 0, SOL: 5, AGI: 4, SEC: 2, AES: 3 }, desc: "ä½ æ˜¯ä¼˜é›…çš„ç‹¬ç«‹æ€æƒ³å®¶ï¼Œç¥ç§˜ä¸”è‡ªæˆ‘æ»¡è¶³ã€‚ä½ äº«å—ç‹¬å¤„ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å†…å¿ƒä¸–ç•Œã€‚ä½ è¡ŒåŠ¨æ•æ·ï¼Œå¥½å¥‡å¿ƒå¼ºï¼Œä½†åªå¯¹è‡ªå·±æ„Ÿå…´è¶£çš„äº‹ç‰©æŠ•å…¥ç²¾åŠ›ã€‚ä½ çš„é­…åŠ›åœ¨äºé‚£ä»½è‹¥å³è‹¥ç¦»çš„ç–ç¦»æ„Ÿå’Œæ— æ³•é¢„æµ‹çš„çµåŠ¨ã€‚" },
        "ç‹¼": { vector: { DOM: 4, STR: 4, COM: 3, SOL: 2, AGI: 2, SEC: 1, AES: 0 }, desc: "ä½ æ˜¯å¤©ç”Ÿçš„é¢†è¢–ä¸æˆ˜ç•¥å®¶ï¼Œå…¼å…·åŠ›é‡ä¸ç¤¾ç¾¤æ™ºæ…§ã€‚ä½ æ—¢èƒ½ç‹¬ç«‹æ€è€ƒï¼Œåˆèƒ½æ— ç¼åœ°èå…¥å›¢é˜Ÿã€‚ä½ å¯¹ç›®æ ‡æ‰§ç€ï¼Œæœ‰å¼ºçƒˆçš„è´£ä»»æ„Ÿå’Œé¢†åœ°æ„è¯†ï¼Œä¸ºäº†å®ˆæŠ¤æ—ç¾¤ï¼Œä½ ä¼šå±•ç°å‡ºæƒŠäººçš„ç»Ÿå¾¡åŠ›å’Œè°‹ç•¥ã€‚" },
        "ç‹": { vector: { DOM: 1, STR: 5, COM: 0, SOL: 4, AGI: 4, SEC: 1, AES: 1 }, desc: "ä½ æ˜¯æœºæ•çš„ç­–ç•¥å®¶ä¸å­¤ç‹¬çš„è§‚å¯Ÿè€…ã€‚ä½ æ‹¥æœ‰è¶…å‡¡çš„æ™ºæ…§å’Œé€‚åº”èƒ½åŠ›ï¼Œæ“…é•¿åœ¨å¤æ‚çš„ç¯å¢ƒä¸­æ‰¾åˆ°æœ€ä¼˜è§£ã€‚ä½ å€¾å‘äºç‹¬ç«‹è¡ŒåŠ¨ï¼Œç”¨æ•é”çš„æ´å¯ŸåŠ›è§„é¿é£é™©ï¼Œè¾¾æˆç›®æ ‡ã€‚ä½ çš„ç”Ÿå­˜å“²å­¦æ˜¯â€œæ™ºå–â€è€Œéâ€œå¼ºæ”»â€ã€‚" },
        "ç‹®": { vector: { DOM: 5, STR: 2, COM: 3, SOL: 3, AGI: 1, SEC: 2, AES: 2 }, desc: "ä½ æ˜¯è‡ªä¿¡çš„ç‹è€…ï¼Œå¤©ç”Ÿè‡ªå¸¦å…‰ç¯ã€‚ä½ æœ‰å¼ºçƒˆçš„ç»Ÿå¾¡æ¬²å’Œè¡¨ç°åŠ›ï¼Œäº«å—æˆä¸ºç„¦ç‚¹çš„æ„Ÿè§‰ã€‚ä½ æ…·æ…¨ã€å¯Œæœ‰é­…åŠ›ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ç‹¬å¤„çš„ç©ºé—´æ¥ç§¯è“„åŠ›é‡ã€‚ä½ çš„å­˜åœ¨æœ¬èº«å°±æ˜¯ä¸€ç§å®£å‘Šï¼Œå……æ»¡åŠ›é‡ä¸å¨ä¸¥ã€‚" },
        "ç†Š": { vector: { DOM: 3, STR: 1, COM: 1, SOL: 4, AGI: 0, SEC: 5, AES: 1 }, desc: "ä½ æ˜¯æ²‰ç¨³çš„å®ˆæŠ¤è€…ï¼Œå¼ºå¤§è€Œå†…æ•›ã€‚ä½ å¤§éƒ¨åˆ†æ—¶é—´å®‰é™ã€å¹³å’Œï¼Œäº«å—è‡ªå·±çš„èŠ‚å¥ï¼Œä½†å½“é¢†åœ°æˆ–å®¶äººå—åˆ°å¨èƒæ—¶ï¼Œä¼šçˆ†å‘å‡ºæ— ä¸ä¼¦æ¯”çš„åŠ›é‡ã€‚ä½ é‡è§†å®‰å…¨æ„Ÿï¼Œå–œæ¬¢ä¸ºè‡ªå·±å’Œäº²è¿‘çš„äººå»ºç«‹ä¸€ä¸ªèˆ’é€‚ã€å®‰å…¨çš„åº‡æŠ¤æ‰€ã€‚" },
        "å…”": { vector: { DOM: 0, STR: 1, COM: 2, SOL: 2, AGI: 5, SEC: 5, AES: 2 }, desc: "ä½ æ˜¯è­¦è§‰çš„å’Œå¹³ä¸»ä¹‰è€…ï¼Œæ•æ·ä¸”å¯Œæœ‰åŒæƒ…å¿ƒã€‚ä½ æåº¦éœ€è¦å®‰å…¨æ„Ÿï¼Œå¯¹ç¯å¢ƒå˜åŒ–éå¸¸æ•æ„Ÿã€‚ä½ è¡ŒåŠ¨è¿…é€Ÿï¼Œæ“…é•¿èº²é¿å†²çªã€‚è™½ç„¶æœ‰æ—¶ä¼šæ˜¾å¾—èƒ†å°ï¼Œä½†ä½ åœ¨ç†Ÿæ‚‰å’Œå®‰å…¨çš„å°åœˆå­é‡Œï¼Œä¼šå±•ç°å‡ºæ´»æ³¼ã€æ¸©å’Œçš„ä¸€é¢ã€‚" },
        "ä»“é¼ ":{ vector: { DOM: 0, STR: 0, COM: 2, SOL: 4, AGI: 1, SEC: 5, AES: 1 }, desc: "ä½ æ˜¯ä¸“æ³¨çš„å›¤ç§¯è€…ä¸å®‰é€¸çš„ç”Ÿæ´»å®¶ã€‚ä½ æœ€å¤§çš„å¹¸ç¦æ¥è‡ªäºå»ºç«‹ä¸€ä¸ªå……æ»¡å®‰å…¨æ„Ÿçš„â€œå°çªâ€ã€‚ä½ å–œæ¬¢æ”¶é›†å’Œæ•´ç†ï¼Œæ— è®ºæ˜¯ç‰©è´¨è¿˜æ˜¯ä¿¡æ¯ã€‚ä½ äº«å—åœ¨è‡ªå·±çš„å°ä¸–ç•Œé‡Œè‡ªå¾—å…¶ä¹ï¼Œå¯¹å¤–ç•Œçš„çº·æ‰°ä¿æŒç€ä¸€ç§å¯çˆ±çš„è¿Ÿé’ã€‚" },
        "å¤©é¹…":{ vector: { DOM: 2, STR: 1, COM: 2, SOL: 3, AGI: 1, SEC: 2, AES: 5 }, desc: "ä½ æ˜¯ä¼˜é›…çš„ç†æƒ³ä¸»ä¹‰è€…ï¼Œå¯¹ç¾æœ‰ç€æè‡´çš„è¿½æ±‚ã€‚ä½ å§¿æ€é«˜è´µï¼Œå¸¦æœ‰ä¸€ç§å¤©ç”Ÿçš„è·ç¦»æ„Ÿï¼Œä½†å†…å¿ƒæ·±å¤„å¯¹ä¼´ä¾£å’Œå®¶åº­æä¸ºå¿ è¯šã€‚ä½ çš„ä¸–ç•Œé‡Œï¼Œç²¾ç¥çš„å¥‘åˆä¸å¤–åœ¨çš„å’Œè°åŒæ ·é‡è¦ï¼Œç»ä¸å®¹å¿ç²—ä¿—ä¸å°†å°±ã€‚" },
        "é¹¿":  { vector: { DOM: 1, STR: 1, COM: 3, SOL: 3, AGI: 3, SEC: 4, AES: 4 }, desc: "ä½ æ˜¯æ¸©å’Œçš„è‡ªç„¶ä¹‹å­ï¼Œæ•æ„Ÿè€Œä¼˜é›…ã€‚ä½ å¯¹ç¾å’Œå®é™æœ‰ç€å¤©ç”Ÿçš„å‘å¾€ï¼Œå¸¸å¸¸æ²‰æµ¸åœ¨è‡ªå·±çš„ç²¾ç¥ä¸–ç•Œé‡Œã€‚ä½ è­¦æƒ•æ€§é«˜ï¼Œéœ€è¦å®‰å…¨çš„ç¯å¢ƒæ‰èƒ½æ”¾æ¾ã€‚ä½ çš„ç¾åœ¨äºé‚£ä»½ä¸æŸ“å°˜åŸƒçš„çº¯å‡€å’Œä¸è‡ªç„¶èä¸ºä¸€ä½“çš„çµæ€§ã€‚" },
        "é¹°":  { vector: { DOM: 4, STR: 3, COM: 0, SOL: 5, AGI: 2, SEC: 1, AES: 2 }, desc: "ä½ æ˜¯é«˜å‚²çš„è¿œè§è€…ï¼Œæ‹¥æœ‰æ— ä¸ä¼¦æ¯”çš„è§†é‡å’Œå†³å¿ƒã€‚ä½ ä¹ æƒ¯äºä»é«˜å¤„å®¡è§†å…¨å±€ï¼Œåˆ¶å®šé•¿è¿œçš„ç›®æ ‡ã€‚ä½ äº«å—å­¤ç‹¬ï¼Œå› ä¸ºé‚£èƒ½è®©ä½ çœ‹å¾—æ›´æ¸…ã€‚ä½ çš„åŠ›é‡ä¸ä»…åœ¨äºæ•çŒçš„åˆ©çˆªï¼Œæ›´åœ¨äºé‚£ä»½å‡Œé©¾äºä¸€åˆ‡ä¹‹ä¸Šçš„ç‹¬ç«‹æ„å¿—å’Œå®å¤§æ ¼å±€ã€‚" },
        "ä¹Œé¸¦":{ vector: { DOM: 2, STR: 5, COM: 4, SOL: 2, AGI: 3, SEC: 1, AES: 0 }, desc: "ä½ æ˜¯èªæ…§çš„è°œé¢˜è§£å†³è€…ä¸ä¿¡æ¯çš„ä¼ é€’è€…ã€‚ä½ æ‹¥æœ‰æé«˜çš„æ™ºå•†å’Œå¥½å¥‡å¿ƒï¼Œå–„äºè§‚å¯Ÿã€å­¦ä¹ å’Œä½¿ç”¨å·¥å…·ã€‚ä½ å…·æœ‰å¤æ‚çš„ç¤¾ä¼šç»“æ„ï¼Œæ“…é•¿åˆä½œä¸æ²Ÿé€šã€‚åœ¨åˆ«äººçœ‹æ¥ï¼Œä½ æˆ–è®¸æœ‰äº›ç¥ç§˜ç”šè‡³ä¸ç¥¥ï¼Œä½†è¿™æ­£æ˜¯ä½ æ™ºæ…§çš„ä¿æŠ¤è‰²ã€‚" },
        "æ°´è±š":{ vector: { DOM: 0, STR: 0, COM: 5, SOL: 2, AGI: 1, SEC: 5, AES: 2 }, desc: "ä½ æ˜¯éšå’Œçš„ç¤¾äº¤å¤§å¸ˆï¼Œæƒ…ç»ªç¨³å®šï¼Œä¸‡ç‰©çš†å¯ä¸ºå‹ã€‚ä½ çš„å­˜åœ¨æœ¬èº«å°±èƒ½ç»™å‘¨å›´å¸¦æ¥å¹³é™ä¸å’Œè°ã€‚ä½ äº«å—ç¤¾ç¾¤ç”Ÿæ´»ï¼Œä½†ä»ä¸å¼ºæ±‚ï¼Œç”¨ä¸€ç§â€œä½›ç³»â€çš„æ€åº¦æ¥çº³ä¸€åˆ‡ã€‚ä½ çš„å“²å­¦æ˜¯ï¼šæ”¾è½»æ¾ï¼Œæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ã€‚" },
        "é²¸":  { vector: { DOM: 2, STR: 3, COM: 4, SOL: 4, AGI: 0, SEC: 2, AES: 4 }, desc: "ä½ æ˜¯æ·±æµ·çš„å“²å­¦å®¶ï¼Œå¤è€è€Œæ™ºæ…§ã€‚ä½ æ‰¿è½½ç€åšé‡çš„è®°å¿†ï¼Œç”¨æ·±æ²‰çš„æ­Œå£°åœ¨å¹¿é˜”çš„ç¤¾ç¾¤ä¸­äº¤æµã€‚ä½ æ—¢èƒ½èå…¥åºå¤§çš„é›†ä½“ï¼Œåˆä¿æŒç€ä¸ªä½“çš„æ·±é‚ƒå­¤ç‹¬ã€‚ä½ çš„å†…å¿ƒåƒæµ·æ´‹ä¸€æ ·ï¼Œå¹³é™æ—¶åŒ…å®¹ä¸‡ç‰©ï¼Œç¿»æ¶Œæ—¶å……æ»¡åŠ›é‡ã€‚" },
        "é¹¦é¹‰":{ vector: { DOM: 1, STR: 2, COM: 5, SOL: 1, AGI: 5, SEC: 1, AES: 2 }, desc: "ä½ æ˜¯èªæ˜çš„ç¤¾äº¤è¾¾äººä¸å¤©ç”Ÿçš„è¡¨æ¼”å®¶ã€‚ä½ çƒ­çˆ±äº’åŠ¨ï¼Œæ“…é•¿æ¨¡ä»¿å’Œå­¦ä¹ ï¼Œæ˜¯ç¾¤ä½“ä¸­çš„â€œå¼€å¿ƒæœâ€å’Œä¿¡æ¯ä¸­å¿ƒã€‚ä½ æ´»æ³¼å¥½åŠ¨ï¼Œå……æ»¡å¥½å¥‡å¿ƒï¼Œæ€»èƒ½ç»™å¹³æ·¡çš„ç”Ÿæ´»å¢æ·»è‰²å½©å’Œæˆå‰§æ€§ã€‚ä½ çš„æ™ºæ…§ä½“ç°åœ¨ä¸ä»–äººçš„äº’åŠ¨å’Œäº¤æµä¸­ã€‚" },
        "ç« é±¼":{ vector: { DOM: 2, STR: 5, COM: 0, SOL: 5, AGI: 4, SEC: 1, AES: 1 }, desc: "ä½ æ˜¯æ·±æµ·çš„æ™ºè€…ä¸ä¼ªè£…å¤§å¸ˆã€‚ä½ æ‹¥æœ‰æƒŠäººçš„æ™ºæ…§å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œèº«ä½“çš„æ¯ä¸€æ¬¡å˜å½¢éƒ½æ˜¯ä¸€æ¬¡ç­–ç•¥çš„å±•ç°ã€‚ä½ ä¹ æƒ¯äºç‹¬ç«‹æ€è€ƒå’Œè¡ŒåŠ¨ï¼Œåœ¨å¤æ‚ç¯å¢ƒä¸­å±•ç°å‡ºæå¼ºçš„é€‚åº”æ€§å’Œåˆ›é€ åŠ›ã€‚ä½ æ˜¯çœŸæ­£çš„â€œå¤šé¢æ‰‹â€ã€‚" },
        "é²¨é±¼":{ vector: { DOM: 5, STR: 3, COM: 0, SOL: 5, AGI: 3, SEC: 0, AES: 0 }, desc: "ä½ æ˜¯é«˜æ•ˆçš„ç›®æ ‡è¿½é€è€…ï¼Œä¸“æ³¨ã€ç›´æ¥ã€å……æ»¡åŠ›é‡ã€‚ä½ ä¸€æ—¦é”å®šç›®æ ‡ï¼Œä¾¿ä¼šå¿ƒæ— æ—éª›åœ°å‰è¿›ã€‚ä½ ä¹ æƒ¯ç‹¬æ¥ç‹¬å¾€ï¼Œä¸éœ€è¦å¤æ‚çš„ç¤¾äº¤å…³ç³»ã€‚ä½ çš„ç”Ÿå­˜æ³•åˆ™ç®€å•è€Œçº¯ç²¹ï¼šä¸æ–­å‰è¿›ï¼Œæ°¸ä¸åœæ­¢ã€‚" },
        "æµ·è±š":{ vector: { DOM: 3, STR: 4, COM: 5, SOL: 0, AGI: 4, SEC: 1, AES: 1 }, desc: "ä½ æ˜¯æ™ºæ…§çš„å¬‰æˆè€…ä¸å›¢é˜Ÿåˆä½œçš„å…¸èŒƒã€‚ä½ æ‹¥æœ‰é«˜åº¦å‘è¾¾çš„å¤§è„‘å’Œå¤æ‚çš„ç¤¾ä¼šè¡Œä¸ºï¼Œæ“…é•¿é€šè¿‡åˆä½œè§£å†³é—®é¢˜ã€‚ä½ å……æ»¡ç©ä¹ç²¾ç¥ï¼Œå°†ç”Ÿæ´»è§†ä¸ºä¸€åœºæœ‰è¶£çš„æ¸¸æˆã€‚ä½ çš„å¿«ä¹æ¥æºäºä¸åŒä¼´çš„åä½œå’Œæ¢ç´¢ä¸–ç•Œçš„æ— ç©·ä¹è¶£ã€‚" },
        "æµ£ç†Š":{ vector: { DOM: 1, STR: 4, COM: 2, SOL: 3, AGI: 5, SEC: 2, AES: 0 }, desc: "ä½ æ˜¯æœºçµçš„éƒ½å¸‚æ¢é™©å®¶ï¼Œæ€»èƒ½æ‰¾åˆ°è§£å†³é—®é¢˜çš„â€œæ­ªè·¯å­â€ã€‚ä½ å¥½å¥‡å¿ƒæå¼ºï¼ŒåŠ¨æ‰‹èƒ½åŠ›è¶…ç¾¤ï¼Œä¸ºäº†è¾¾æˆç›®çš„å¯ä»¥ä¸æ‹©æ‰‹æ®µï¼ˆé€šå¸¸æ˜¯ä¸ºäº†åƒçš„ï¼‰ã€‚ä½ éå¸¸çµæ´»ï¼Œæ€»èƒ½åœ¨äººç±»åˆ¶å®šçš„è§„åˆ™ä¸­æ‰¾åˆ°è‡ªå·±çš„ç”Ÿå­˜ç©ºé—´ã€‚" },
        "çŒ«é¼¬":{ vector: { DOM: 2, STR: 3, COM: 5, SOL: 1, AGI: 3, SEC: 5, AES: 0 }, desc: "ä½ æ˜¯è­¦æƒ•çš„å“¨å…µä¸å®¶åº­çš„å®ˆæŠ¤è€…ã€‚ä½ å¯¹é›†ä½“æœ‰ç€æå¼ºçš„å½’å±æ„Ÿå’Œè´£ä»»å¿ƒï¼Œæ—¶åˆ»ä¸ºå®¶äººçš„å®‰å…¨ç«™å²—æ”¾å“¨ã€‚ä½ ä»¬çš„ç”Ÿå­˜ä¾èµ–äºé«˜æ•ˆçš„å›¢é˜Ÿåä½œå’Œåˆ†å·¥ã€‚ä½ çš„å‹‡æ•¢ä¸æ˜¯ä¸ºäº†ä¸ªäººï¼Œè€Œæ˜¯ä¸ºäº†æ•´ä¸ªæ—ç¾¤çš„å®‰å±ã€‚" }
    };
    
    // DOMå…ƒç´ 
    const startScreen = document.getElementById('start-screen');
    const authScreen = document.getElementById('auth-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const transitionScreen = document.getElementById('transition-screen');
    const resultScreen = document.getElementById('result-screen');
    const interludeScreen = document.getElementById('interlude-screen');
    const loadingScreen = document.getElementById('loading-screen');
    const animalGuideScreen = document.getElementById('animal-guide-screen');
    const modalOverlay = document.getElementById('modal-overlay');

    const startBtn = document.getElementById('start-btn');
    const restartBtn = document.getElementById('restart-btn');
    const backBtn = document.getElementById('back-btn');
    const nextBtn = document.getElementById('next-btn');
    const browseBtn = document.getElementById('browse-btn');
    const backToResultBtn = document.getElementById('back-to-result-btn');
    const confirmAuthBtn = document.getElementById('confirm-auth-btn');
    const getAuthBtn = document.getElementById('get-auth-btn');
    const businessBtn = document.getElementById('business-btn');
    const backToStartBtn = document.getElementById('back-to-start-btn');
    const authCodeInput = document.getElementById('auth-code-input');
    const authErrorMsg = document.getElementById('auth-error-msg');
    
    const questionTitle = document.getElementById('question-title');
    const optionList = document.getElementById('option-list');
    const progressBar = document.getElementById('progress-bar');
    const questionCounter = document.getElementById('question-counter');
    const animalGuide = document.getElementById('animal-guide');
    
    const resultAnimal = document.getElementById('result-animal');
    const resultDescription = document.getElementById('result-description');
    const resultAnimalIllustration = document.getElementById('result-animal-illustration');
    const matchProgressBar = document.getElementById('match-progress-bar');
    const matchPercentage = document.getElementById('match-percentage');
    const traitsContainer = document.getElementById('traits-container');
    const transitionAnimal = document.getElementById('transition-animal');

    const dimensionKeys = ["DOM", "STR", "COM", "SOL", "AGI", "SEC", "AES"];
    
    let currentQuestionIndex = 0;
    let scores = {};
    let selectedOptions = [];
    let isProcessing = false;
    let currentAuthCode = null;

    // æˆæƒç ç®¡ç†ï¼ˆä½¿ç”¨localStorageæ¨¡æ‹Ÿï¼‰
    function initAuthCodeStorage() {
        if (!localStorage.getItem('authCodes')) {
            localStorage.setItem('authCodes', JSON.stringify({}));
        }
    }

    function getAuthCodeData(code) {
        const codes = JSON.parse(localStorage.getItem('authCodes') || '{}');
        return codes[code] || null;
    }

    function setAuthCodeData(code, data) {
        const codes = JSON.parse(localStorage.getItem('authCodes') || '{}');
        codes[code] = data;
        localStorage.setItem('authCodes', JSON.stringify(codes));
    }

    function generateAuthCode() {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        let code = '';
        for (let i = 0; i < 10; i++) {
            code += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return code;
    }

    // æˆæƒç æ ¼å¼éªŒè¯
    function validateAuthCodeFormat() {
        const code = authCodeInput.value;
        const errorMsg = authErrorMsg;
        const input = authCodeInput;
        
        if (code.length === 0) {
            errorMsg.textContent = '';
            input.classList.remove('error');
            return true;
        }
        
        // åªå…è®¸å¤§å°å†™å­—æ¯å’Œæ•°å­—
        const formatRegex = /^[A-Za-z0-9]{0,10}$/;
        if (!formatRegex.test(code)) {
            errorMsg.textContent = 'æˆæƒç é”™è¯¯';
            input.classList.add('error');
            return false;
        }
        
        if (code.length < 10) {
            errorMsg.textContent = '';
            input.classList.remove('error');
            return true;
        }
        
        if (code.length === 10) {
            // æ£€æŸ¥æ˜¯å¦åŒæ—¶åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—
            const hasUpperCase = /[A-Z]/.test(code);
            const hasLowerCase = /[a-z]/.test(code);
            const hasNumber = /[0-9]/.test(code);
            
            if (!hasUpperCase || !hasLowerCase || !hasNumber) {
                errorMsg.textContent = 'æˆæƒç é”™è¯¯';
                input.classList.add('error');
                return false;
            }
            
            errorMsg.textContent = '';
            input.classList.remove('error');
            // è‡ªåŠ¨èšç„¦ç¡®è®¤æŒ‰é’®
            confirmAuthBtn.focus();
            return true;
        }
        
        return false;
    }

    // å°†å‡½æ•°æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸ
    window.validateAuthCodeFormat = validateAuthCodeFormat;

    // éªŒè¯æˆæƒç 
    function validateAuthCode(code) {
        // æ ¼å¼éªŒè¯ï¼šå¿…é¡»æ˜¯10ä½ï¼Œä¸”åŒæ—¶åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—
        const formatRegex = /^[A-Za-z0-9]{10}$/;
        if (!formatRegex.test(code)) {
            return { valid: false, message: 'æˆæƒç é”™è¯¯' };
        }

        // æ£€æŸ¥æ˜¯å¦åŒæ—¶åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯å’Œæ•°å­—
        const hasUpperCase = /[A-Z]/.test(code);
        const hasLowerCase = /[a-z]/.test(code);
        const hasNumber = /[0-9]/.test(code);
        
        if (!hasUpperCase || !hasLowerCase || !hasNumber) {
            return { valid: false, message: 'æˆæƒç é”™è¯¯' };
        }

        // æŸ¥è¯¢æˆæƒç æ•°æ®
        const codeData = getAuthCodeData(code);
        
        if (!codeData) {
            // æ–°æˆæƒç ï¼Œåˆ›å»ºè®°å½•
            const newCodeData = {
                createdAt: Date.now(),
                expiresAt: Date.now() + 365 * 24 * 60 * 60 * 1000, // 1å¹´æœ‰æ•ˆæœŸ
                useCount: 0
            };
            setAuthCodeData(code, newCodeData);
            return { valid: true, message: '' };
        }

        // æ£€æŸ¥æ˜¯å¦è¿‡æœŸ
        if (Date.now() > codeData.expiresAt) {
            return { valid: false, message: 'æˆæƒç é”™è¯¯' };
        }

        // æ£€æŸ¥ä½¿ç”¨æ¬¡æ•°
        if (codeData.useCount >= 2) {
            return { valid: false, message: 'ä½¿ç”¨æ¬¡æ•°è¾¾ä¸Šé™' };
        }

        return { valid: true, message: '' };
    }

    // å¢åŠ æˆæƒç ä½¿ç”¨æ¬¡æ•°
    function incrementAuthCodeUsage(code) {
        const codeData = getAuthCodeData(code);
        if (codeData) {
            codeData.useCount = (codeData.useCount || 0) + 1;
            setAuthCodeData(code, codeData);
        }
    }

    // å¼¹çª—åŠŸèƒ½
    function showModal(title, text, closable = true) {
        document.getElementById('modal-title').textContent = title;
        document.getElementById('modal-text').textContent = text;
        modalOverlay.classList.add('show');
        if (!closable) {
            modalOverlay.querySelector('.modal-close').style.display = 'none';
        } else {
            modalOverlay.querySelector('.modal-close').style.display = 'flex';
        }
    }

    function closeModal() {
        modalOverlay.classList.remove('show');
    }

    // å°†å‡½æ•°æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸï¼ˆåœ¨å®šä¹‰åç«‹å³æš´éœ²ï¼‰
    window.closeModal = closeModal;

    // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
    modalOverlay.addEventListener('click', (e) => {
        if (e.target === modalOverlay) {
            closeModal();
        }
    });

    function initScores() {
        scores = {};
        dimensionKeys.forEach(key => scores[key] = 0);
    }
    
    function initAnimalGuide() {
        animalGuide.innerHTML = '';
        Object.keys(animalArchetypes).forEach(animal => {
            const card = document.createElement('div');
            card.className = 'animal-card';
            const icon = animalIcons[animal] || 'ğŸ¾';
            card.innerHTML = `
                <h3 style="display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.5em;">${icon}</span>
                    <span>ã€ ${animal} ã€‘</span>
                </h3>
                <p>${animalArchetypes[animal].desc}</p>
            `;
            animalGuide.appendChild(card);
        });
    }

    function showAuthScreen() {
        startScreen.classList.add('hidden');
        authScreen.classList.remove('hidden');
        authCodeInput.value = '';
        authErrorMsg.textContent = '';
        authCodeInput.classList.remove('error');
    }

    function startQuiz() {
        if (isProcessing) return;
        isProcessing = true;
        
        // éªŒè¯æˆæƒç 
        const code = authCodeInput.value.trim();
        const validation = validateAuthCode(code);
        
        if (!validation.valid) {
            authErrorMsg.textContent = validation.message;
            authCodeInput.classList.add('error');
            isProcessing = false;
            return;
        }

        // æˆæƒç éªŒè¯é€šè¿‡ï¼Œå¢åŠ ä½¿ç”¨æ¬¡æ•°
        incrementAuthCodeUsage(code);
        currentAuthCode = code;
        
        currentQuestionIndex = 0;
        initScores();
        selectedOptions = [];
        
        // ä»localStorageæ¢å¤å·²ç­”é¢˜ç›®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
        const savedProgress = localStorage.getItem(`quiz_progress_${code}`);
        if (savedProgress) {
            try {
                const progress = JSON.parse(savedProgress);
                selectedOptions = progress.selectedOptions || [];
                currentQuestionIndex = progress.currentQuestionIndex || 0;
            } catch (e) {
                console.error('æ¢å¤è¿›åº¦å¤±è´¥', e);
            }
        }
        
        const screensToHide = [startScreen, authScreen, resultScreen, interludeScreen, animalGuideScreen, loadingScreen, transitionScreen];
        screensToHide.forEach(screen => screen.classList.add('hidden'));
        
        quizScreen.classList.remove('hidden');
        quizScreen.classList.remove('fade-out');
        showQuestion();
        isProcessing = false;
    }

    function saveProgress() {
        if (currentAuthCode) {
            const progress = {
                selectedOptions: selectedOptions,
                currentQuestionIndex: currentQuestionIndex
            };
            localStorage.setItem(`quiz_progress_${currentAuthCode}`, JSON.stringify(progress));
        }
    }

    function showQuestion() {
        if (currentQuestionIndex >= quizData.length) {
            showResult();
            return;
        }

        const currentQuestion = quizData[currentQuestionIndex];
        questionTitle.innerHTML = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
        questionCounter.textContent = currentQuestionIndex + 1;
        backBtn.style.visibility = currentQuestionIndex > 0 ? 'visible' : 'hidden';
        
        // æ›´æ–°ä¸‹ä¸€é¢˜æŒ‰é’®æ–‡å­—
        if (currentQuestionIndex === quizData.length - 1) {
            nextBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
        } else {
            nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
        }
        
        optionList.innerHTML = '';
        ['A', 'B', 'C', 'D'].forEach(key => {
            if (currentQuestion.options[key]) {
                const li = document.createElement('li');
                li.className = 'option-item';
                if (selectedOptions[currentQuestionIndex] === key) {
                    li.classList.add('selected');
                }
                li.innerHTML = `<span class="option-prefix">${key}</span><span class="option-text">${currentQuestion.options[key]}</span>`;
                
                // è§¦æ‘¸äº‹ä»¶å¤„ç†ï¼šåŒºåˆ†ç‚¹å‡»å’Œæ»šåŠ¨
                (function(optionKey, optionElement) {
                    let touchStartY = 0;
                    let touchStartTime = 0;
                    
                    optionElement.addEventListener('touchstart', (e) => {
                        touchStartY = e.touches[0].clientY;
                        touchStartTime = Date.now();
                    }, { passive: true });
                    
                    optionElement.addEventListener('touchend', (e) => {
                        const touchEndY = e.changedTouches[0].clientY;
                        const touchEndTime = Date.now();
                        const deltaY = Math.abs(touchEndY - touchStartY);
                        const deltaTime = touchEndTime - touchStartTime;
                        
                        // å¦‚æœç§»åŠ¨è·ç¦»å°äº10pxä¸”æ—¶é—´å°äº300msï¼Œè®¤ä¸ºæ˜¯ç‚¹å‡»
                        if (deltaY < 10 && deltaTime < 300) {
                            e.preventDefault();
                            selectOption(optionKey, optionElement);
                        }
                    });
                })(key, li);
                
                li.addEventListener('click', () => selectOption(key, li));
                optionList.appendChild(li);
            }
        });
        
        updateProgressBar();
        saveProgress();
    }
    
    function updateProgressBar() {
        const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
        progressBar.style.width = `${progress}%`;
    }

    function selectOption(optionKey, element) {
        if (isProcessing) return;

        selectedOptions[currentQuestionIndex] = optionKey;
        
        document.querySelectorAll('.option-item').forEach(item => item.classList.remove('selected'));
        element.classList.add('selected');
        
        saveProgress();
    }

    function goToNextQuestion() {
        if (isProcessing) return;
        
        // æ£€æŸ¥æ˜¯å¦å·²é€‰æ‹©ç­”æ¡ˆ
        if (!selectedOptions[currentQuestionIndex]) {
            showModal('æç¤º', 'é¢˜ç›®æœªä½œç­”ï¼Œè¯·é€‰æ‹©åå†ç»§ç»­');
            return;
        }

        isProcessing = true;
        
        if (currentQuestionIndex >= quizData.length - 1) {
            // æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºç»“æœ
            showResult();
            isProcessing = false;
            return;
        }

        // æ¯5é¢˜æ˜¾ç¤ºè¿‡æ¸¡åŠ¨ç”»
        const nextIndex = currentQuestionIndex + 1;
        if (nextIndex > 0 && nextIndex % 5 === 0) {
            // æ˜¾ç¤ºè¿‡æ¸¡åŠ¨ç”»
            const transitionIcons = ['ğŸ±', 'ğŸº', 'ğŸ¦Š', 'ğŸ¦', 'ğŸ»', 'ğŸ°', 'ğŸ¦¢', 'ğŸ¦Œ', 'ğŸ¦…', 'ğŸ‹', 'ğŸ¬', 'ğŸ¦'];
            const randomIcon = transitionIcons[Math.floor(Math.random() * transitionIcons.length)];
            transitionAnimal.textContent = randomIcon;
            
            quizScreen.classList.add('hidden');
            transitionScreen.classList.remove('hidden');
            
            setTimeout(() => {
                transitionScreen.classList.add('hidden');
                currentQuestionIndex = nextIndex;
                quizScreen.classList.remove('hidden');
                showQuestion();
                isProcessing = false;
            }, 1500);
        } else {
            quizScreen.classList.add('fade-out');
            setTimeout(() => {
                currentQuestionIndex = nextIndex;
                quizScreen.classList.remove('fade-out');
                showQuestion();
                isProcessing = false;
            }, 400);
        }
    }
    
    function goBack() {
        if (isProcessing || currentQuestionIndex <= 0) return;
        isProcessing = true;
        
        quizScreen.classList.add('fade-out');
        
        setTimeout(() => {
            currentQuestionIndex--;
            quizScreen.classList.remove('fade-out');
            showQuestion();
            isProcessing = false;
        }, 400);
    }

    function showBusinessModal() {
        showModal('å•†åŠ¡åˆä½œ', 'å•†åŠ¡åˆä½œï¼Œè¯·è”ç³»å®¢æœï¼Œå¾®ä¿¡ï¼šrenzhi6767', true);
    }
    
    function showAllAnimals() {
        resultScreen.classList.add('hidden');
        animalGuideScreen.classList.remove('hidden');
    }
    
    function backToResult() {
        animalGuideScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
    }
    
    // ä½¿ç”¨å·®å€¼å¹³æ–¹å’Œæœ€å°æ³•è®¡ç®—ç»“æœ
    function showResult() {
        quizScreen.classList.add('hidden');
        loadingScreen.classList.remove('hidden');
        
        // æ¸…é™¤è¿›åº¦
        if (currentAuthCode) {
            localStorage.removeItem(`quiz_progress_${currentAuthCode}`);
        }
        
        setTimeout(() => {
            // 1. é‡æ–°è®¡ç®—æ€»åˆ†
            initScores();
            for (let i = 0; i < selectedOptions.length; i++) {
                const option = selectedOptions[i];
                if (option) {
                    const questionScores = scoreMap[i][option];
                    for (const dim in questionScores) {
                        scores[dim] += questionScores[dim];
                    }
                }
            }

            // 2. å½’ä¸€åŒ–ç”¨æˆ·å¾—åˆ†
            const userTotalScore = dimensionKeys.reduce((sum, key) => sum + scores[key], 0);
            const normalizedScores = {};
            
            if (userTotalScore === 0) { // é˜²æ­¢é™¤ä»¥0
                dimensionKeys.forEach(key => normalizedScores[key] = 0);
            } else {
                dimensionKeys.forEach(key => {
                    normalizedScores[key] = (scores[key] / userTotalScore) * ANIMAL_ARCHETYPE_TOTAL;
                });
            }

            // 3. è®¡ç®—ä¸æ¯ä¸ªåŠ¨ç‰©åŸå‹çš„å·®å€¼å¹³æ–¹å’Œ
            let bestMatchAnimal = 'æ°´è±š'; // é»˜è®¤å€¼
            let minDifference = Infinity;

            Object.keys(animalArchetypes).forEach(animalName => {
                const animalVector = animalArchetypes[animalName].vector;
                let currentDifference = 0;

                dimensionKeys.forEach(key => {
                    const diff = (normalizedScores[key] || 0) - (animalVector[key] || 0);
                    currentDifference += diff * diff; // å·®å€¼çš„å¹³æ–¹
                });
                
                // 4. æ‰¾åˆ°å·®å€¼æœ€å°çš„åŠ¨ç‰©
                if (currentDifference < minDifference) {
                    minDifference = currentDifference;
                    bestMatchAnimal = animalName;
                }
            });

            // 5. è®¡ç®—åŒ¹é…åº¦ï¼ˆ60%-100%ï¼‰
            // åŒ¹é…åº¦ = 100% - (å·®å€¼å¹³æ–¹å’Œ / æœ€å¤§å¯èƒ½å·®å€¼) * 40%
            // æœ€å¤§å¯èƒ½å·®å€¼çº¦ä¸ºæ¯ä¸ªç»´åº¦å·®å€¼çš„å¹³æ–¹å’Œï¼Œè¿™é‡Œç®€åŒ–ä¸ºåŸºäºminDifferenceè®¡ç®—
            const maxPossibleDifference = dimensionKeys.length * Math.pow(ANIMAL_ARCHETYPE_TOTAL, 2);
            const matchScore = Math.max(60, 100 - (minDifference / maxPossibleDifference) * 40);
            const matchPercent = Math.round(matchScore);

            // 6. æ˜¾ç¤ºç»“æœ
            const resultData = animalArchetypes[bestMatchAnimal];
            const animalIcon = animalIcons[bestMatchAnimal] || 'ğŸ¾';
            const animalTraitsList = animalTraits[bestMatchAnimal] || ['ç‰¹è´¨1', 'ç‰¹è´¨2', 'ç‰¹è´¨3'];
            
            // æ˜¾ç¤ºåŠ¨ç‰©æ’ç”»
            resultAnimalIllustration.textContent = animalIcon;
            
            // æ˜¾ç¤ºåŠ¨ç‰©åç§°
            resultAnimal.textContent = `ã€ ${bestMatchAnimal} ã€‘`;
            
            // æ˜¾ç¤ºåŒ¹é…åº¦
            matchPercentage.textContent = `${matchPercent}%`;
            setTimeout(() => {
                matchProgressBar.style.width = `${matchPercent}%`;
            }, 100);
            
            // æ˜¾ç¤ºæ ¸å¿ƒç‰¹è´¨
            traitsContainer.innerHTML = '';
            animalTraitsList.forEach((trait, index) => {
                const traitCard = document.createElement('div');
                traitCard.className = 'trait-card';
                traitCard.textContent = trait;
                traitCard.style.opacity = '0';
                traitsContainer.appendChild(traitCard);
                setTimeout(() => {
                    traitCard.style.opacity = '1';
                }, 500 + index * 100);
            });
            
            // æ˜¾ç¤ºè¯¦ç»†è§£æ
            resultDescription.textContent = resultData.desc;
            
            loadingScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            isProcessing = false;
        }, 1500);
    }

    // äº‹ä»¶ç›‘å¬
    startBtn.addEventListener('click', showAuthScreen);
    startBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        showAuthScreen();
    });

    confirmAuthBtn.addEventListener('click', startQuiz);
    confirmAuthBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        startQuiz();
    });

    // æˆæƒç è¾“å…¥æ¡†å›è½¦ç¡®è®¤
    authCodeInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            startQuiz();
        }
    });

    getAuthBtn.addEventListener('click', () => {
        window.open('https://xhslink.com/m/1ZafV7rhu6b', '_blank');
    });

    businessBtn.addEventListener('click', showBusinessModal);

    backToStartBtn.addEventListener('click', () => {
        authScreen.classList.add('hidden');
        startScreen.classList.remove('hidden');
    });
    
    restartBtn.addEventListener('click', () => {
        // æ¸…é™¤è¿›åº¦
        if (currentAuthCode) {
            localStorage.removeItem(`quiz_progress_${currentAuthCode}`);
        }
        showAuthScreen();
    });
    restartBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        if (currentAuthCode) {
            localStorage.removeItem(`quiz_progress_${currentAuthCode}`);
        }
        showAuthScreen();
    });
    
    backBtn.addEventListener('click', goBack);
    backBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        goBack();
    });

    nextBtn.addEventListener('click', goToNextQuestion);
    nextBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        goToNextQuestion();
    });
    
    browseBtn.addEventListener('click', showAllAnimals);
    browseBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        showAllAnimals();
    });
    
    backToResultBtn.addEventListener('click', backToResult);
    backToResultBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        backToResult();
    });

    // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
    window.addEventListener('DOMContentLoaded', () => {
        initScores();
        initAnimalGuide();
        initAuthCodeStorage();
        document.getElementById('quiz-container').style.transform = 'perspective(1000px) rotateX(0deg)';
        
        // æ£€æµ‹iOSè®¾å¤‡å¹¶åšç‰¹æ®Šå¤„ç†
        if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
            // è°ƒæ•´å­—ä½“å¤§å°ä»¥é€‚åº”iOS
            document.documentElement.style.fontSize = '16px';
        }
    });

    // å…¨å±€å‡½æ•°ï¼ˆä¾›HTMLè°ƒç”¨ï¼‰- è¿™äº›å‡½æ•°å·²ç»åœ¨ä¸Šé¢å®šä¹‰ï¼Œä¸éœ€è¦é‡å¤å®šä¹‰
    </script>
</body>
</html>